# .gitignore

```
*.iml
.gradle
/local.properties
/.idea/caches
/.idea/libraries
/.idea/modules.xml
/.idea/workspace.xml
/.idea/navEditor.xml
/.idea/assetWizardSettings.xml
.DS_Store
/build
/captures
.externalNativeBuild
.cxx
local.properties

```

# .idea\.gitignore

```
# Default ignored files
/shelf/
/workspace.xml

```

# .idea\appInsightsSettings.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AppInsightsSettings">
    <option name="tabSettings">
      <map>
        <entry key="Firebase Crashlytics">
          <value>
            <InsightsFilterSettings>
              <option name="connection">
                <ConnectionSetting>
                  <option name="appId" value="PLACEHOLDER" />
                  <option name="mobileSdkAppId" value="" />
                  <option name="projectId" value="" />
                  <option name="projectNumber" value="" />
                </ConnectionSetting>
              </option>
              <option name="signal" value="SIGNAL_UNSPECIFIED" />
              <option name="timeIntervalDays" value="THIRTY_DAYS" />
              <option name="visibilityType" value="ALL" />
            </InsightsFilterSettings>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>
```

# .idea\caches\deviceStreaming.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="DeviceStreaming">
    <option name="deviceSelectionList">
      <list>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="Sony" />
          <option name="codename" value="A402SO" />
          <option name="id" value="A402SO" />
          <option name="manufacturer" value="Sony" />
          <option name="name" value="Xperia 10" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2520" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="27" />
          <option name="brand" value="DOCOMO" />
          <option name="codename" value="F01L" />
          <option name="id" value="F01L" />
          <option name="manufacturer" value="FUJITSU" />
          <option name="name" value="F-01L" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1280" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="OnePlus" />
          <option name="codename" value="OP535DL1" />
          <option name="id" value="OP535DL1" />
          <option name="manufacturer" value="OnePlus" />
          <option name="name" value="CPH2409" />
          <option name="screenDensity" value="401" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2412" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="OnePlus" />
          <option name="codename" value="OP5552L1" />
          <option name="id" value="OP5552L1" />
          <option name="manufacturer" value="OnePlus" />
          <option name="name" value="CPH2415" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2412" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="OPPO" />
          <option name="codename" value="OP573DL1" />
          <option name="id" value="OP573DL1" />
          <option name="manufacturer" value="OPPO" />
          <option name="name" value="CPH2557" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="28" />
          <option name="brand" value="DOCOMO" />
          <option name="codename" value="SH-01L" />
          <option name="id" value="SH-01L" />
          <option name="manufacturer" value="SHARP" />
          <option name="name" value="AQUOS sense2 SH-01L" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2160" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a14m" />
          <option name="id" value="a14m" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-A145R" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2408" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a15" />
          <option name="id" value="a15" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A15" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a15x" />
          <option name="id" value="a15x" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A15 5G" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a16x" />
          <option name="id" value="a16x" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A16 5G" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a35x" />
          <option name="id" value="a35x" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A35" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="akita" />
          <option name="id" value="akita" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="akita" />
          <option name="id" value="akita" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="arcfox" />
          <option name="id" value="arcfox" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="razr plus 2024" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="1272" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="motorola" />
          <option name="codename" value="austin" />
          <option name="id" value="austin" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g 5G (2022)" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="samsung" />
          <option name="codename" value="b0q" />
          <option name="id" value="b0q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S22 Ultra" />
          <option name="screenDensity" value="600" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3088" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="b6q" />
          <option name="id" value="b6q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Flip 6" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2640" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="32" />
          <option name="brand" value="google" />
          <option name="codename" value="bluejay" />
          <option name="id" value="bluejay" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 6a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="caiman" />
          <option name="id" value="caiman" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="960" />
          <option name="screenY" value="2142" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="caiman" />
          <option name="id" value="caiman" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="960" />
          <option name="screenY" value="2142" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="comet" />
          <option name="id" value="comet" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro Fold" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="2076" />
          <option name="screenY" value="2152" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="comet" />
          <option name="id" value="comet" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro Fold" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="2076" />
          <option name="screenY" value="2152" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="29" />
          <option name="brand" value="samsung" />
          <option name="codename" value="crownqlteue" />
          <option name="id" value="crownqlteue" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Note9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2220" />
          <option name="screenY" value="1080" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="dm2q" />
          <option name="id" value="dm2q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="S23 Plus" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="dm3q" />
          <option name="id" value="dm3q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S23 Ultra" />
          <option name="screenDensity" value="600" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3088" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="dubai" />
          <option name="id" value="dubai" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 30" />
          <option name="screenDensity" value="405" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="e1q" />
          <option name="id" value="e1q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S24" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="e3q" />
          <option name="id" value="e3q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S24 Ultra" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3120" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="eos" />
          <option name="id" value="eos" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Eos" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="384" />
          <option name="screenY" value="384" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="motorola" />
          <option name="codename" value="eqe" />
          <option name="id" value="eqe" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 50 pro" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1220" />
          <option name="screenY" value="2712" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="felix" />
          <option name="id" value="felix" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Fold" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2208" />
          <option name="screenY" value="1840" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="felix" />
          <option name="id" value="felix" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Fold" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2208" />
          <option name="screenY" value="1840" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="felix_camera" />
          <option name="id" value="felix_camera" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Fold (Camera-enabled)" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2208" />
          <option name="screenY" value="1840" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="fogona" />
          <option name="id" value="fogona" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g play - 2024" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="fogos" />
          <option name="id" value="fogos" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g34 5G" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="g0q" />
          <option name="id" value="g0q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-S906U1" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gta9pwifi" />
          <option name="id" value="gta9pwifi" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-X210" />
          <option name="screenDensity" value="240" />
          <option name="screenX" value="1200" />
          <option name="screenY" value="1920" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts7lwifi" />
          <option name="id" value="gts7lwifi" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-T870" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts7xllite" />
          <option name="id" value="gts7xllite" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-T738U" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts8uwifi" />
          <option name="id" value="gts8uwifi" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Tab S8 Ultra" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="1848" />
          <option name="screenY" value="2960" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts8wifi" />
          <option name="id" value="gts8wifi" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Tab S8" />
          <option name="screenDensity" value="274" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts9fe" />
          <option name="id" value="gts9fe" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Tab S9 FE 5G" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="2304" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts9wifi" />
          <option name="id" value="gts9wifi" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-X710" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="husky" />
          <option name="id" value="husky" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8 Pro" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="1008" />
          <option name="screenY" value="2244" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="30" />
          <option name="brand" value="motorola" />
          <option name="codename" value="java" />
          <option name="id" value="java" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="G20" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="komodo" />
          <option name="id" value="komodo" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro XL" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="1008" />
          <option name="screenY" value="2244" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="komodo" />
          <option name="id" value="komodo" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro XL" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="1008" />
          <option name="screenY" value="2244" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="lion" />
          <option name="id" value="lion" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g04" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1612" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="lynx" />
          <option name="id" value="lynx" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 7a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="lyriq" />
          <option name="id" value="lyriq" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 40" />
          <option name="screenDensity" value="400" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="manaus" />
          <option name="id" value="manaus" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 40 neo" />
          <option name="screenDensity" value="400" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="motorola" />
          <option name="codename" value="maui" />
          <option name="id" value="maui" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g play - 2023" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="o1q" />
          <option name="id" value="o1q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S21" />
          <option name="screenDensity" value="421" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="31" />
          <option name="brand" value="google" />
          <option name="codename" value="oriole" />
          <option name="id" value="oriole" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 6" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="samsung" />
          <option name="codename" value="pa3q" />
          <option name="id" value="pa3q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S25 Ultra" />
          <option name="screenDensity" value="600" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3120" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="panther" />
          <option name="id" value="panther" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 7" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="q5q" />
          <option name="id" value="q5q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Z Fold5" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1812" />
          <option name="screenY" value="2176" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="q6q" />
          <option name="id" value="q6q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Z Fold6" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1856" />
          <option name="screenY" value="2160" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="30" />
          <option name="brand" value="google" />
          <option name="codename" value="r11" />
          <option name="id" value="r11" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Watch" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="384" />
          <option name="screenY" value="384" />
          <option name="type" value="WEAR_OS" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="r11q" />
          <option name="id" value="r11q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-S711U" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="30" />
          <option name="brand" value="google" />
          <option name="codename" value="redfin" />
          <option name="id" value="redfin" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 5" />
          <option name="screenDensity" value="440" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="shiba" />
          <option name="id" value="shiba" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="t2q" />
          <option name="id" value="t2q" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S21 Plus" />
          <option name="screenDensity" value="394" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="tangorpro" />
          <option name="id" value="tangorpro" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Tablet" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="tegu" />
          <option name="id" value="tegu" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="tokay" />
          <option name="id" value="tokay" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="tokay" />
          <option name="id" value="tokay" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="xcover7" />
          <option name="id" value="xcover7" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-G556B" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2408" />
        </PersistentDeviceSelectionData>
      </list>
    </option>
  </component>
</project>
```

# .idea\compiler.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CompilerConfiguration">
    <bytecodeTargetLevel target="21" />
  </component>
</project>
```

# .idea\deploymentTargetSelector.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="deploymentTargetSelector">
    <selectionStates>
      <SelectionState runConfigName="app">
        <option name="selectionMode" value="DROPDOWN" />
        <DropdownSelection timestamp="2025-07-05T13:11:46.578622700Z">
          <Target type="DEFAULT_BOOT">
            <handle>
              <DeviceId pluginId="LocalEmulator" identifier="path=C:\Users\ASUS\.android\avd\Pixel_9_Pro_XL_API_35.avd" />
            </handle>
          </Target>
        </DropdownSelection>
        <DialogSelection />
      </SelectionState>
    </selectionStates>
  </component>
</project>
```

# .idea\gradle.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="GradleSettings">
    <option name="linkedExternalProjectsSettings">
      <GradleProjectSettings>
        <option name="testRunner" value="CHOOSE_PER_TEST" />
        <option name="externalProjectPath" value="$PROJECT_DIR$" />
        <option name="gradleJvm" value="#GRADLE_LOCAL_JAVA_HOME" />
        <option name="modules">
          <set>
            <option value="$PROJECT_DIR$" />
            <option value="$PROJECT_DIR$/app" />
          </set>
        </option>
        <option name="resolveExternalAnnotations" value="false" />
      </GradleProjectSettings>
    </option>
  </component>
</project>
```

# .idea\inspectionProfiles\Project_Default.xml

```xml
<component name="InspectionProjectProfileManager">
  <profile version="1.0">
    <option name="myName" value="Project Default" />
    <inspection_tool class="ComposePreviewDimensionRespectsLimit" enabled="true" level="WARNING" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="ComposePreviewMustBeTopLevelFunction" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="ComposePreviewNeedsComposableAnnotation" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="ComposePreviewNotSupportedInUnitTestFiles" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="GlancePreviewDimensionRespectsLimit" enabled="true" level="WARNING" enabled_by_default="true">
      <option name="composableFile" value="true" />
    </inspection_tool>
    <inspection_tool class="GlancePreviewMustBeTopLevelFunction" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
    </inspection_tool>
    <inspection_tool class="GlancePreviewNeedsComposableAnnotation" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
    </inspection_tool>
    <inspection_tool class="GlancePreviewNotSupportedInUnitTestFiles" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
    </inspection_tool>
    <inspection_tool class="PreviewAnnotationInFunctionWithParameters" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="PreviewApiLevelMustBeValid" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="PreviewDeviceShouldUseNewSpec" enabled="true" level="WEAK WARNING" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="PreviewFontScaleMustBeGreaterThanZero" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="PreviewMultipleParameterProviders" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
    <inspection_tool class="PreviewPickerAnnotation" enabled="true" level="ERROR" enabled_by_default="true">
      <option name="composableFile" value="true" />
      <option name="previewFile" value="true" />
    </inspection_tool>
  </profile>
</component>
```

# .idea\kotlinc.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="KotlinJpsPluginSettings">
    <option name="version" value="2.0.0" />
  </component>
</project>
```

# .idea\migrations.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ProjectMigrations">
    <option name="MigrateToGradleLocalJavaHome">
      <set>
        <option value="$PROJECT_DIR$" />
      </set>
    </option>
  </component>
</project>
```

# .idea\misc.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ExternalStorageConfigurationManager" enabled="true" />
  <component name="ProjectRootManager" version="2" languageLevel="JDK_21" default="true" project-jdk-name="jbr-21" project-jdk-type="JavaSDK">
    <output url="file://$PROJECT_DIR$/build/classes" />
  </component>
  <component name="ProjectType">
    <option name="id" value="Android" />
  </component>
</project>
```

# .idea\runConfigurations.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="RunConfigurationProducerService">
    <option name="ignoredProducers">
      <set>
        <option value="com.intellij.execution.junit.AbstractAllInDirectoryConfigurationProducer" />
        <option value="com.intellij.execution.junit.AllInPackageConfigurationProducer" />
        <option value="com.intellij.execution.junit.PatternConfigurationProducer" />
        <option value="com.intellij.execution.junit.TestInClassConfigurationProducer" />
        <option value="com.intellij.execution.junit.UniqueIdConfigurationProducer" />
        <option value="com.intellij.execution.junit.testDiscovery.JUnitTestDiscoveryConfigurationProducer" />
        <option value="org.jetbrains.kotlin.idea.junit.KotlinJUnitRunConfigurationProducer" />
        <option value="org.jetbrains.kotlin.idea.junit.KotlinPatternConfigurationProducer" />
      </set>
    </option>
  </component>
</project>
```

# .idea\vcs.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="VcsDirectoryMappings">
    <mapping directory="" vcs="Git" />
  </component>
</project>
```

# .idea\workspace.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AndroidLayouts">
    <shared>
      <config />
    </shared>
  </component>
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="NONE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="52fab8e4-1486-4262-95a6-b84662240320" name="Changes" comment="">
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/local/SessionManager.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/mapper/ArticleMapper.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/request/CreateArticleRequest.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/request/CreateUserRequest.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/request/RejectRequest.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/response/ArticleResponse.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/response/CreateUserResponse.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/repository/ArticleRepositoryImpl.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/repository/ArticleRepository.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/ApproveArticleUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/CreateArticleUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/CreateUserUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/EditArticleUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/GetArticleByIdUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/GetArticlesForModerationUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/GetMyArticlesUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/GetPublishedArticledUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/RejectArticleUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/use_cases/SubmitArticleUseCase.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/MainViewModel.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/admin/AdminContract.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/admin/AdminDashboardRoute.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/admin/AdminViewModel.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/AuthorDashboardRoute.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/AuthorDashboardState.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/AuthorDashboardViewModel.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/CreatePostRoute.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/CreatePostState.kt" afterDir="false" />
      <change afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/navigation/BottomBarScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/Article.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/Article.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/DummyData.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/DummyData.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/api/Api.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/api/Api.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/interceptor/AuthInterceptor.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/interceptor/AuthInterceptor.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/mapper/UserMapper.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/network/mapper/UserMapper.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/repository/UserRepositoryImpl.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/data/repository/UserRepositoryImpl.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/NetworkModule.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/NetworkModule.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/mapperModule.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/mapperModule.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/repositoryModule.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/repositoryModule.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/storageModule.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/storageModule.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/useCaseModule.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/useCaseModule.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/viewModelModule.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/di/viewModelModule.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/repository/UserRepository.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/domain/repository/UserRepository.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/model/ArticleCard.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/model/ArticleCard.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/model/AuthorArticleCard.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/model/AuthorArticleCard.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/AuthViewModel.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/AuthViewModel.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/NewsFeedRoute.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/NewsFeedRoute.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/NewsFeedScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/NewsFeedScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/NewsFeedViewModel.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/NewsFeedViewModel.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/admin/AdminDashboardScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/admin/AdminDashboardScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/AuthorDashboardScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/AuthorDashboardScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/CreatePostScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/author/CreatePostScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/moderator/ArticleReviewScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/moderator/ArticleReviewScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/moderator/ModeratorDashboardScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/moderator/ModeratorDashboardScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/navigation/AppNavigation.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/navigation/AppNavigation.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/navigation/SplashScreen.kt" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/kz/petproject/gts_tz/ui/presentation/navigation/SplashScreen.kt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/codebase.md" beforeDir="false" afterPath="$PROJECT_DIR$/codebase.md" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="ClangdSettings">
    <option name="formatViaClangd" value="false" />
  </component>
  <component name="ExecutionTargetManager" SELECTED_TARGET="device_and_snapshot_combo_box_target[DeviceId(pluginId=LocalEmulator, isTemplate=false, identifier=path=C:\Users\ASUS\.android\avd\Pixel_9_Pro_XL_API_35_2.avd)]" />
  <component name="ExternalProjectsData">
    <projectState path="$PROJECT_DIR$">
      <ProjectState />
    </projectState>
  </component>
  <component name="FileTemplateManagerImpl">
    <option name="RECENT_TEMPLATES">
      <list>
        <option value="Kotlin Object" />
        <option value="Kotlin Class" />
      </list>
    </option>
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="ProblemsViewState">
    <option name="selectedTabId" value="kz.petproject.gts_tz.ui.presentation.admin.RoleChipKt.AdminDashboardScreenPreview" />
  </component>
  <component name="ProjectColorInfo"><![CDATA[{
  "associatedIndex": 6
}]]></component>
  <component name="ProjectId" id="2zJh7X2GRnmSRrUKtniHkHetxWd" />
  <component name="ProjectLevelVcsManager">
    <ConfirmationsSetting value="2" id="Add" />
  </component>
  <component name="ProjectViewState">
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent"><![CDATA[{
  "keyToString": {
    "Android App.app.executor": "Run",
    "RunOnceActivity.ShowReadmeOnStart": "true",
    "RunOnceActivity.cidr.known.project.marker": "true",
    "RunOnceActivity.readMode.enableVisualFormatting": "true",
    "cf.first.check.clang-format": "false",
    "cidr.known.project.marker": "true",
    "dart.analysis.tool.window.visible": "false",
    "git-widget-placeholder": "main",
    "kotlin-language-version-configured": "true",
    "last_opened_file_path": "C:/Users/ASUS/AndroidStudioProjects/connectionPhoneApp",
    "run.code.analysis.last.selected.profile": "pProject Default",
    "show.migrate.to.gradle.popup": "false"
  }
}]]></component>
  <component name="RecentsManager">
    <key name="MoveFile.RECENT_KEYS">
      <recent name="C:\Users\ASUS\Documents\GitHub\GTS_TZ\app\src\main\java\kz\petproject\gts_tz\ui\presentation\navigation" />
    </key>
    <key name="MoveKotlinTopLevelDeclarationsDialog.RECENTS_KEY">
      <recent name="kz.petproject.gts_tz" />
      <recent name="kz.petproject.gts_tz.domain.repository" />
    </key>
  </component>
  <component name="RunManager">
    <configuration name="app" type="AndroidRunConfigurationType" factoryName="Android App" activateToolWindowBeforeRun="false">
      <module name="GTS_TZ.app.main" />
      <option name="DEPLOY" value="true" />
      <option name="DEPLOY_APK_FROM_BUNDLE" value="false" />
      <option name="DEPLOY_AS_INSTANT" value="false" />
      <option name="ARTIFACT_NAME" value="" />
      <option name="PM_INSTALL_OPTIONS" value="" />
      <option name="ALL_USERS" value="false" />
      <option name="ALWAYS_INSTALL_WITH_PM" value="false" />
      <option name="CLEAR_APP_STORAGE" value="false" />
      <option name="DYNAMIC_FEATURES_DISABLED_LIST" value="" />
      <option name="ACTIVITY_EXTRA_FLAGS" value="" />
      <option name="MODE" value="default_activity" />
      <option name="RESTORE_ENABLED" value="false" />
      <option name="RESTORE_FILE" value="" />
      <option name="CLEAR_LOGCAT" value="false" />
      <option name="SHOW_LOGCAT_AUTOMATICALLY" value="false" />
      <option name="TARGET_SELECTION_MODE" value="DEVICE_AND_SNAPSHOT_COMBO_BOX" />
      <option name="SELECTED_CLOUD_MATRIX_CONFIGURATION_ID" value="-1" />
      <option name="SELECTED_CLOUD_MATRIX_PROJECT_ID" value="" />
      <option name="DEBUGGER_TYPE" value="Auto" />
      <Auto>
        <option name="USE_JAVA_AWARE_DEBUGGER" value="false" />
        <option name="SHOW_STATIC_VARS" value="true" />
        <option name="WORKING_DIR" value="" />
        <option name="TARGET_LOGGING_CHANNELS" value="lldb process:gdb-remote packets" />
        <option name="SHOW_OPTIMIZED_WARNING" value="true" />
        <option name="ATTACH_ON_WAIT_FOR_DEBUGGER" value="false" />
        <option name="DEBUG_SANDBOX_SDK" value="false" />
      </Auto>
      <Hybrid>
        <option name="USE_JAVA_AWARE_DEBUGGER" value="false" />
        <option name="SHOW_STATIC_VARS" value="true" />
        <option name="WORKING_DIR" value="" />
        <option name="TARGET_LOGGING_CHANNELS" value="lldb process:gdb-remote packets" />
        <option name="SHOW_OPTIMIZED_WARNING" value="true" />
        <option name="ATTACH_ON_WAIT_FOR_DEBUGGER" value="false" />
        <option name="DEBUG_SANDBOX_SDK" value="false" />
      </Hybrid>
      <Java>
        <option name="ATTACH_ON_WAIT_FOR_DEBUGGER" value="false" />
        <option name="DEBUG_SANDBOX_SDK" value="false" />
      </Java>
      <Native>
        <option name="USE_JAVA_AWARE_DEBUGGER" value="false" />
        <option name="SHOW_STATIC_VARS" value="true" />
        <option name="WORKING_DIR" value="" />
        <option name="TARGET_LOGGING_CHANNELS" value="lldb process:gdb-remote packets" />
        <option name="SHOW_OPTIMIZED_WARNING" value="true" />
        <option name="ATTACH_ON_WAIT_FOR_DEBUGGER" value="false" />
        <option name="DEBUG_SANDBOX_SDK" value="false" />
      </Native>
      <Profilers>
        <option name="ADVANCED_PROFILING_ENABLED" value="false" />
        <option name="STARTUP_PROFILING_ENABLED" value="false" />
        <option name="STARTUP_CPU_PROFILING_ENABLED" value="false" />
        <option name="STARTUP_CPU_PROFILING_CONFIGURATION_NAME" value="Java/Kotlin Method Sample (legacy)" />
        <option name="STARTUP_NATIVE_MEMORY_PROFILING_ENABLED" value="false" />
        <option name="NATIVE_MEMORY_SAMPLE_RATE_BYTES" value="2048" />
      </Profilers>
      <option name="DEEP_LINK" value="" />
      <option name="ACTIVITY_CLASS" value="" />
      <option name="SEARCH_ACTIVITY_IN_GLOBAL_SCOPE" value="false" />
      <option name="SKIP_ACTIVITY_VALIDATION" value="false" />
      <method v="2">
        <option name="Android.Gradle.BeforeRunTask" enabled="true" />
      </method>
    </configuration>
  </component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="52fab8e4-1486-4262-95a6-b84662240320" name="Changes" comment="" />
      <created>1751454917838</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1751454917838</updated>
    </task>
    <servers />
  </component>
</project>
```

# app\.gitignore

```
/build
```

# app\build.gradle.kts

```kts
plugins {
    alias(libs.plugins.android.application)
    alias(libs.plugins.kotlin.android)
    alias(libs.plugins.kotlin.compose)
}

android {
    namespace = "kz.petproject.gts_tz"
    compileSdk = 35

    defaultConfig {
        applicationId = "kz.petproject.gts_tz"
        minSdk = 24
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }
    kotlinOptions {
        jvmTarget = "11"
    }
    buildFeatures {
        compose = true
    }
}

dependencies {

    implementation(libs.androidx.core.ktx)
    implementation(libs.androidx.lifecycle.runtime.ktx)
    implementation(libs.androidx.activity.compose)
    implementation(platform(libs.androidx.compose.bom))
    implementation(libs.androidx.ui)
    implementation(libs.androidx.ui.graphics)
    implementation(libs.androidx.ui.tooling.preview)
    implementation(libs.androidx.material3)
    testImplementation(libs.junit)
    androidTestImplementation(libs.androidx.junit)
    androidTestImplementation(libs.androidx.espresso.core)
    androidTestImplementation(platform(libs.androidx.compose.bom))
    androidTestImplementation(libs.androidx.ui.test.junit4)
    debugImplementation(libs.androidx.ui.tooling)
    debugImplementation(libs.androidx.ui.test.manifest)


    // Retrofit + Gson
    implementation("com.squareup.retrofit2:retrofit:2.11.0")
    implementation("com.squareup.retrofit2:converter-gson:2.11.0")
    implementation("com.squareup.retrofit2:converter-moshi:2.9.0")
    implementation("com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.2")
    implementation("com.squareup.okhttp3:okhttp:4.12.0")
    implementation("com.google.code.gson:gson:2.10.1")

// Coroutines for ViewModel
    implementation("androidx.lifecycle:lifecycle-viewmodel-ktx:2.9.1")
    implementation("androidx.lifecycle:lifecycle-runtime-ktx:2.9.1")
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.9.0")

    implementation(libs.koin.core)
    implementation(libs.koin.android)
    implementation (libs.koin.androidx.compose)

    implementation(libs.androidx.navigation.compose)
    // Secure Storage
    implementation(libs.androidx.security.crypto)

}
```

# app\proguard-rules.pro

```pro
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
#   public *;
#}

# Uncomment this to preserve the line number information for
# debugging stack traces.
#-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
#-renamesourcefileattribute SourceFile
```

# app\src\androidTest\java\kz\petproject\gts_tz\ExampleInstrumentedTest.kt

```kt
package kz.petproject.gts_tz

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("kz.petproject.gts_tz", appContext.packageName)
    }
}
```

# app\src\main\AndroidManifest.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <uses-permission android:name="android.permission.INTERNET" />

    <application
        android:name=".MyApp"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.GTS_TZ"
        tools:targetApi="31"
        android:usesCleartextTraffic="true"
        >
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:label="@string/app_name"
            android:theme="@style/Theme.GTS_TZ">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>
```

# app\src\main\java\kz\petproject\gts_tz\Constants.kt

```kt
package kz.petproject.gts_tz

object Constants {
    const val BASE_URL = "http://10.0.2.2:5000"
}
```

# app\src\main\java\kz\petproject\gts_tz\data\Article.kt

```kt
package kz.petproject.gts_tz.data
/**
 * Represents an Article.
 *
 * @property id The unique identifier for the article.
 * @property title The title of the article.
 * @property content The full text content of the article.
 * @property author The [Author] who wrote the article.
 * @property status The current moderation status ("PUBLISHED", "ON_MODERATION", "REJECTED").
 * @property rejectionReason An optional reason for why the article was rejected. Only present if status is "REJECTED".
 * @property createdAt The timestamp (in milliseconds) when the article was created.
 * @property publishedAt An optional timestamp (in milliseconds) when the article was published.
 */
data class Article(
    val id: String,
    val title: String,
    val content: String,
    val author: Author,
    val status: String,
    val rejectionReason: String? = null,
    val createdAt: Long = System.currentTimeMillis(),
    val publishedAt: Long? = null
)
```

# app\src\main\java\kz\petproject\gts_tz\data\Author.kt

```kt
package kz.petproject.gts_tz.data
/**
 * Represents an Author.
 *
 * @property id The unique identifier for the author.
 * @property name The full name of the author.
 */
data class Author(
    val id: Int,
    val name: String
)
```

# app\src\main\java\kz\petproject\gts_tz\data\DummyData.kt

```kt
package kz.petproject.gts_tz.data

import java.util.concurrent.TimeUnit

object DummyData {
    val authors = listOf(
        Author(id = 1, name = "Иван Петров"),
        Author(id = 2, name = "Мария Сидорова")
    )

    // Also add a sample user list to DummyData
// In object DummyData { ... }
    val users = listOf(
        User("1", "Admin User", "admin", "ADMIN"),
        User("2", "Иван Петров", "ivan_p", "AUTHOR"),
        User("3", "Мария Сидорова", "maria_s", "AUTHOR"),
        User("4", "Сергей Васильев", "sergey_v", "MODERATOR")
    )
    // A list of sample articles covering all possible statuses.
    val articles = listOf(
        Article(
            id = "1",
            title = "Compose — будущее Android-разработки",
            content = "Jetpack Compose — это современный декларативный набор инструментов для создания нативного пользовательского интерфейса Android. Он упрощает и ускоряет разработку пользовательского интерфейса на Android, позволяя быстро воплощать приложения в жизнь с меньшим количеством кода.",
            author = authors[0],
            status = "PUBLISHED",
            publishedAt = System.currentTimeMillis() - TimeUnit.DAYS.toMillis(1) // Published yesterday
        ),
        Article(
            id = "6",
            title = "Идеи для новой статьи",
            content = "Начать с обзора последних...", // Can be empty or partially filled
            author = authors[0], // Belongs to "Иван Петров"
            status = "DRAFT" // The new status
        ),
        Article(
            id = "2",
            title = "Что нового в Kotlin 1.9?",
            content = "В новой версии Kotlin были представлены значительные улучшения производительности компилятора, новые возможности языка и обновление стандартной библиотеки. Рассмотрим ключевые изменения...",
            author = authors[1],
            status = "PUBLISHED",
            publishedAt = System.currentTimeMillis() - TimeUnit.DAYS.toMillis(3) // Published 3 days ago
        ),
        Article(
            id = "3",
            title = "KMM для кросс-платформенной разработки",
            content = "Kotlin Multiplatform Mobile (KMM) позволяет использовать общую кодовую базу для бизнес-логики приложений iOS и Android. Это помогает сэкономить время и обеспечить консистентность.",
            author = authors[0],
            status = "ON_MODERATION"
        ),
        Article(
            id = "4",
            title = "Архитектура MVVM",
            content = "MVVM (Model-View-ViewModel) - это...",
            author = authors[1],
            status = "REJECTED",
            rejectionReason = "Статья слишком короткая. Пожалуйста, раскройте тему более подробно."
        ),
        Article(
            id = "5",
            title = "Знакомство с Coroutines",
            content = "Асинхронное программирование — неотъемлемая часть современных приложений. В Kotlin для этих целей существуют корутины, которые позволяют писать асинхронный код последовательно и понятно.",
            author = authors[0],
            status = "ON_MODERATION"
        )
    )

}
```

# app\src\main\java\kz\petproject\gts_tz\data\local\SessionManager.kt

```kt
package kz.petproject.gts_tz.data.local

import android.content.SharedPreferences
import kz.petproject.gts_tz.data.User

class SessionManager(private val prefs: SharedPreferences) {

    fun saveSession(token: String, user: User) {
        prefs.edit()
            .putString(KEY_AUTH_TOKEN, token)
            .putString(KEY_USER_ROLE, user.role)
            .apply()
    }

    fun getToken(): String? {
        return prefs.getString(KEY_AUTH_TOKEN, null)
    }

    fun getUserRole(): String? {
        return prefs.getString(KEY_USER_ROLE, null)
    }

    fun clearSession() {
        prefs.edit()
            .remove(KEY_AUTH_TOKEN)
            .remove(KEY_USER_ROLE)
            .apply()
    }

    companion object {
        private const val KEY_AUTH_TOKEN = "auth_token"
        private const val KEY_USER_ROLE = "user_role"
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\local\TokenManager.kt

```kt
package kz.petproject.gts_tz.data.local

import android.content.SharedPreferences

class TokenManager(private val prefs: SharedPreferences) {

    fun saveToken(token: String) {
        prefs.edit().putString(KEY_AUTH_TOKEN, token).apply()
    }

    fun getToken(): String? {
        return prefs.getString(KEY_AUTH_TOKEN, null)
    }

    fun clearToken() {
        prefs.edit().remove(KEY_AUTH_TOKEN).apply()
    }

    companion object {
        private const val KEY_AUTH_TOKEN = "auth_token"
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\network\api\Api.kt

```kt
package kz.petproject.gts_tz.data.network.api// data/api/AuthApi.kt
import kz.petproject.gts_tz.data.network.request.CreateArticleRequest
import kz.petproject.gts_tz.data.network.request.CreateUserRequest
import kz.petproject.gts_tz.data.network.request.LoginRequest
import kz.petproject.gts_tz.data.network.request.RejectRequest
import kz.petproject.gts_tz.data.network.response.ArticleResponse
import kz.petproject.gts_tz.data.network.response.CreateUserResponse
import kz.petproject.gts_tz.data.network.response.PostSignInResponse
import retrofit2.http.Body
import retrofit2.http.POST
import retrofit2.Response
import retrofit2.http.GET
import retrofit2.http.PATCH
import retrofit2.http.Path

interface Api {
    @POST("/api/v1/user/signin")
    suspend fun login(@Body request: LoginRequest): Response<PostSignInResponse>

    @POST("/api/v1/user/create")
    suspend fun createUser(@Body request: CreateUserRequest): Response<CreateUserResponse>


    @GET("/api/v1/articles/my-articles")
    suspend fun getMyArticles(): Response<List<ArticleResponse>>

    @POST("/api/v1/articles")
    suspend fun createArticle(@Body request: CreateArticleRequest): Response<ArticleResponse>

    @PATCH("/api/v1/articles/{articleId}/submit")
    suspend fun submitArticle(@Path("articleId") articleId: String): Response<ArticleResponse>

    @GET("/api/v1/articles/published")
    suspend fun getPublishedArticles(): Response<List<ArticleResponse>>

    @GET("/api/v1/articles/{id}")
    suspend fun getArticleById(@Path("id") articleId: String): Response<ArticleResponse>

    @PATCH("/api/v1/articles/{id}/edit")
    suspend fun editArticle(@Path("id") articleId: String, @Body request: CreateArticleRequest): Response<ArticleResponse>


    @GET("/api/v1/articles/moderation-queue")
    suspend fun getModerationQueue(): Response<List<ArticleResponse>>

    @PATCH("/api/v1/articles/{id}/approve")
    suspend fun approveArticle(@Path("id") articleId: String): Response<ArticleResponse>

    @PATCH("/api/v1/articles/{id}/reject")
    suspend fun rejectArticle(@Path("id") articleId: String, @Body request: RejectRequest): Response<ArticleResponse>
}

```

# app\src\main\java\kz\petproject\gts_tz\data\network\interceptor\AuthInterceptor.kt

```kt
package kz.petproject.gts_tz.data.network.interceptor

import kz.petproject.gts_tz.data.local.SessionManager
import okhttp3.Interceptor
import okhttp3.Response

class AuthInterceptor(private val sessionManager: SessionManager) : Interceptor {
    override fun intercept(chain: Interceptor.Chain): Response {
        val token = sessionManager.getToken()
        val originalRequest = chain.request()

        val requestWithHeader = if (token != null) {
            originalRequest.newBuilder()
                .header("x-access-token", token)
                .build()
        } else {
            originalRequest
        }

        return chain.proceed(requestWithHeader)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\network\mapper\ArticleMapper.kt

```kt
package kz.petproject.gts_tz.data.network.mapper

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.Author
import kz.petproject.gts_tz.data.network.response.ArticleResponse
import java.text.SimpleDateFormat
import java.util.Locale
import java.util.TimeZone

class ArticleMapper {
    private fun parseIsoDate(dateString: String?): Long? {
        if (dateString == null) return null
        return try {
            val format = SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'", Locale.US).apply {
                timeZone = TimeZone.getTimeZone("UTC")
            }
            format.parse(dateString)?.time
        } catch (e: Exception) {
            null
        }
    }

    fun fromRemoteToDomain(response: ArticleResponse): Article {
        return Article(
            id = response.id, // Direct String mapping
            title = response.title,
            content = response.content,
            // Map the nested AuthorResponse object to the domain Author object
            author = Author(id = response.author.id.hashCode(), name = response.author.name),
            status = response.status.uppercase(),
            rejectionReason = response.rejectionReason,
            createdAt = parseIsoDate(response.createdAt) ?: System.currentTimeMillis(),
            publishedAt = parseIsoDate(response.publishedAt)
        )
    }

    fun fromRemoteListToDomain(list: List<ArticleResponse>): List<Article> {
        return list.map { fromRemoteToDomain(it) }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\network\mapper\UserMapper.kt

```kt
package kz.petproject.gts_tz.data.network.mapper

import kz.petproject.gts_tz.data.User
import kz.petproject.gts_tz.data.network.response.CreateUserResponse
import kz.petproject.gts_tz.data.network.response.PostSignInResponse

class UserMapper {
    fun fromRemoteLoginToDomain(postSignInResponse: PostSignInResponse): User{
        return User(
            id = postSignInResponse.userResponse.id,
            name = postSignInResponse.userResponse.name,
            login = postSignInResponse.userResponse.login,
            role = postSignInResponse.userResponse.role
        )
    }

    fun fromRemoteCreateToDomain(createUserResponse: CreateUserResponse): User{
        return User(
            id = createUserResponse.user.id,
            name = createUserResponse.user.name,
            login = createUserResponse.user.login,
            role = createUserResponse.user.role,
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\network\request\CreateArticleRequest.kt

```kt
package kz.petproject.gts_tz.data.network.request

data class CreateArticleRequest(
    val title: String,
    val content: String
)
```

# app\src\main\java\kz\petproject\gts_tz\data\network\request\CreateUserRequest.kt

```kt
package kz.petproject.gts_tz.data.network.request

data class CreateUserRequest(
    val name: String,
    val login: String,
    val password: String,
    val role: String
)
```

# app\src\main\java\kz\petproject\gts_tz\data\network\request\LoginRequest.kt

```kt
package kz.petproject.gts_tz.data.network.request

data class LoginRequest(
    val login: String,
    val password: String
)

```

# app\src\main\java\kz\petproject\gts_tz\data\network\request\RejectRequest.kt

```kt
package kz.petproject.gts_tz.data.network.request

data class RejectRequest(val comments: String)
```

# app\src\main\java\kz\petproject\gts_tz\data\network\response\ArticleResponse.kt

```kt
package kz.petproject.gts_tz.data.network.response

import com.google.gson.annotations.SerializedName

data class ArticleResponse(
    @SerializedName("_id") val id: String,
    val title: String,
    val content: String,
    val author: AuthorResponse, // <-- CRITICAL FIX: Changed back to a nested object
    val status: String,
    @SerializedName("moderatorComments") // Match the backend model field
    val rejectionReason: String? = null,
    val createdAt: String,
    val publishedAt: String? = null,
    val updatedAt: String
)

data class AuthorResponse(
    @SerializedName("_id") val id: String,
    val name: String
)
```

# app\src\main\java\kz\petproject\gts_tz\data\network\response\CreateUserResponse.kt

```kt
package kz.petproject.gts_tz.data.network.response

import com.google.gson.annotations.SerializedName

data class CreateUserResponse(
    val message: String,
    val user: CreatedUser
)

data class CreatedUser(
    @SerializedName("_id")
    val id: String,
    val name: String,
    val login: String,
    val role: String
)
```

# app\src\main\java\kz\petproject\gts_tz\data\network\response\PostSignInResponse.kt

```kt
package kz.petproject.gts_tz.data.network.response

data class PostSignInResponse(
    val message: String,
    val userResponse: UserResponse
)
```

# app\src\main\java\kz\petproject\gts_tz\data\network\response\UserResponse.kt

```kt
package kz.petproject.gts_tz.data.network.response

data class UserResponse(
    val id: String,
    val login: String,
    val name: String,
    val role: String,
    val token: String
)
```

# app\src\main\java\kz\petproject\gts_tz\data\repository\ArticleRepositoryImpl.kt

```kt
package kz.petproject.gts_tz.data.repository

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.network.api.Api
import kz.petproject.gts_tz.data.network.mapper.ArticleMapper
import kz.petproject.gts_tz.data.network.request.CreateArticleRequest
import kz.petproject.gts_tz.data.network.request.RejectRequest
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class ArticleRepositoryImpl(
    private val api: Api,
    private val mapper: ArticleMapper
) : ArticleRepository {
    override suspend fun getMyArticles(): Result<List<Article>> = try {
        val response = api.getMyArticles()
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteListToDomain(response.body()!!))
        } else {
            Result.failure(Exception(response.errorBody()?.string() ?: "Failed to get articles"))
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun createArticle(request: CreateArticleRequest): Result<Article> = try {
        val response = api.createArticle(request)
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteToDomain(response.body()!!))
        } else {
            Result.failure(Exception(response.errorBody()?.string() ?: "Failed to create article"))
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun submitArticle(articleId: String): Result<Article> = try {
        val response = api.submitArticle(articleId)
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteToDomain(response.body()!!))
        } else {
            Result.failure(Exception(response.errorBody()?.string() ?: "Failed to submit article"))
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun getPublishedArticles(): Result<List<Article>> = try {
        val response = api.getPublishedArticles()
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteListToDomain(response.body()!!))
        } else {
            Result.failure(
                Exception(
                    response.errorBody()?.string() ?: "Failed to get published articles"
                )
            )
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun getArticleById(articleId: String): Result<Article> = try {
        val response = api.getArticleById(articleId)
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteToDomain(response.body()!!))
        } else {
            Result.failure(
                Exception(
                    response.errorBody()?.string() ?: "Failed to get article by id"
                )
            )
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun editArticle(
        articleId: String,
        request: CreateArticleRequest
    ): Result<Article> = try {
        val response = api.editArticle(articleId, request)
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteToDomain(response.body()!!))
        } else {
            Result.failure(Exception(response.errorBody()?.string() ?: "Failed to create article"))
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun getModerationQueue(): Result<List<Article>> = try {
        val response = api.getModerationQueue()
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteListToDomain(response.body()!!))
        } else {
            Result.failure(
                Exception(
                    response.errorBody()?.string() ?: "Failed to get articles for moderation"
                )
            )
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun approveArticle(articleId: String): Result<Article> = try {
        val response = api.approveArticle(articleId)
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteToDomain(response.body()!!))
        } else {
            Result.failure(Exception(response.errorBody()?.string() ?: "Failed to approve article"))
        }
    } catch (e: Exception) {
        Result.failure(e)
    }

    override suspend fun rejectArticle(articleId: String, reason: String): Result<Article> = try {
        val response = api.rejectArticle(articleId, RejectRequest(reason))
        if (response.isSuccessful && response.body() != null) {
            Result.success(mapper.fromRemoteToDomain(response.body()!!))
        } else {
            Result.failure(Exception(response.errorBody()?.string() ?: "Failed to reject article"))
        }
    } catch (e: Exception) {
        Result.failure(e)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\repository\UserRepositoryImpl.kt

```kt
package kz.petproject.gts_tz.data.repository

import kz.petproject.gts_tz.data.User
import kz.petproject.gts_tz.data.network.api.Api
import kz.petproject.gts_tz.data.network.mapper.UserMapper
import kz.petproject.gts_tz.data.network.request.CreateUserRequest
import kz.petproject.gts_tz.data.network.request.LoginRequest
import kz.petproject.gts_tz.domain.repository.UserRepository

class UserRepositoryImpl(
    private val api: Api,
    private val userMapper: UserMapper
) : UserRepository {
    override suspend fun login(loginRequest: LoginRequest): Result<Pair<User, String>> {
        return try {
            val response = api.login(loginRequest)
            if (response.isSuccessful && response.body() != null) {
                val responseBody = response.body()!!
                val user = userMapper.fromRemoteLoginToDomain(responseBody)
                val token = responseBody.userResponse.token
                Result.success(user to token)
            } else {
                val errorMsg = response.errorBody()?.string() ?: response.message()
                Result.failure(Exception("Login failed: $errorMsg"))
            }
        } catch (e: Exception) {
            Result.failure(e)
        }
    }

    override suspend fun createUser(createUserRequest: CreateUserRequest): Result<User> {
        return try {
            val response = api.createUser(createUserRequest)
            if (response.isSuccessful && response.body() != null) {
                val createdUser = response.body()!!.user
//                // Manually map the created user to our domain User model
//                Result.success(User(
//                    id = createdUser.id,
//                    name = createdUser.name,
//                    login = createdUser.login,
//                    role = createdUser.role
//                ))
                Result.success(userMapper.fromRemoteCreateToDomain(response.body()!!))
            } else {
                val errorMsg = response.errorBody()?.string() ?: response.message()
                Result.failure(Exception("User creation failed: $errorMsg"))
            }
        } catch (e: Exception) {
            Result.failure(e)
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\data\User.kt

```kt
package kz.petproject.gts_tz.data

/**
 * Represents a user in the system.
 * @property id The unique identifier for the user.
 * @property name The full name of the user.
 * @property login The unique login username.
 * @property role The role of the user ("ADMIN", "AUTHOR", "MODERATOR").
 */
data class User(
    val id: String,
    val name: String,
    val login: String,
    val role: String
)
```

# app\src\main\java\kz\petproject\gts_tz\di\mapperModule.kt

```kt
package kz.petproject.gts_tz.di

import kz.petproject.gts_tz.data.network.mapper.ArticleMapper
import kz.petproject.gts_tz.data.network.mapper.UserMapper
import org.koin.dsl.module

val mapperModule = module {
    factory { UserMapper() }
    factory { ArticleMapper() }
}
```

# app\src\main\java\kz\petproject\gts_tz\di\NetworkModule.kt

```kt
package kz.petproject.gts_tz.di

import kz.petproject.gts_tz.Constants
import kz.petproject.gts_tz.data.network.api.Api
import kz.petproject.gts_tz.data.network.interceptor.AuthInterceptor
import okhttp3.OkHttpClient
import okhttp3.logging.HttpLoggingInterceptor
import org.koin.dsl.module
import retrofit2.Converter
import retrofit2.Retrofit
import retrofit2.converter.gson.GsonConverterFactory
import java.util.concurrent.TimeUnit

val networkModule = module {
    factory<Converter.Factory> { GsonConverterFactory.create() }
    factory {
        HttpLoggingInterceptor().apply {
            level = HttpLoggingInterceptor.Level.BODY
        }
    }

    factory { AuthInterceptor(sessionManager = get()) }

    factory<OkHttpClient> {
        OkHttpClient.Builder()
            .addInterceptor(get<HttpLoggingInterceptor>())
            .addInterceptor(get<AuthInterceptor>())
            .connectTimeout(30, TimeUnit.SECONDS)
            .readTimeout(30, TimeUnit.SECONDS)
            .build()
    }

    single<Retrofit> {
        Retrofit.Builder()
            .baseUrl(Constants.BASE_URL)
            .addConverterFactory(get())
            .client(get())
            .build()
    }

    single<Api> { get<Retrofit>().create(Api::class.java) }
}
```

# app\src\main\java\kz\petproject\gts_tz\di\repositoryModule.kt

```kt
package kz.petproject.gts_tz.di

import kz.petproject.gts_tz.data.repository.ArticleRepositoryImpl
import kz.petproject.gts_tz.data.repository.UserRepositoryImpl
import kz.petproject.gts_tz.domain.repository.ArticleRepository
import kz.petproject.gts_tz.domain.repository.UserRepository
import org.koin.dsl.module

val repositoryModule = module {
    single<UserRepository> { UserRepositoryImpl(api = get(), userMapper = get()) }
    single<ArticleRepository> { ArticleRepositoryImpl(api = get(), mapper = get()) }
}
```

# app\src\main\java\kz\petproject\gts_tz\di\storageModule.kt

```kt
package kz.petproject.gts_tz.di

import androidx.security.crypto.EncryptedSharedPreferences
import androidx.security.crypto.MasterKey
import kz.petproject.gts_tz.data.local.SessionManager
import org.koin.android.ext.koin.androidContext
import org.koin.dsl.module

val storageModule = module {
    single {
        val context = androidContext()
        val masterKey = MasterKey.Builder(context)
            .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
            .build()

        EncryptedSharedPreferences.create(
            context,
            "secret_shared_prefs",
            masterKey,
            EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
            EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
        )
    }
    single { SessionManager(prefs = get()) }
}
```

# app\src\main\java\kz\petproject\gts_tz\di\useCaseModule.kt

```kt
package kz.petproject.gts_tz.di

import kz.petproject.gts_tz.domain.use_cases.ApproveArticleUseCase
import kz.petproject.gts_tz.domain.use_cases.CreateArticleUseCase
import kz.petproject.gts_tz.domain.use_cases.CreateUserUseCase
import kz.petproject.gts_tz.domain.use_cases.EditArticleUseCase
import kz.petproject.gts_tz.domain.use_cases.GetArticleByIdUseCase
import kz.petproject.gts_tz.domain.use_cases.GetArticlesForModerationUseCase
import kz.petproject.gts_tz.domain.use_cases.GetMyArticlesUseCase
import kz.petproject.gts_tz.domain.use_cases.GetPublishedArticledUseCase
import kz.petproject.gts_tz.domain.use_cases.PostSiginInUseCase
import kz.petproject.gts_tz.domain.use_cases.RejectArticleUseCase
import kz.petproject.gts_tz.domain.use_cases.SubmitArticleUseCase
import org.koin.dsl.module

val useCaseModule = module {
    factory { PostSiginInUseCase(userRepository = get()) }
    factory { CreateUserUseCase(userRepository = get()) }
    factory { GetMyArticlesUseCase(repository = get()) }
    factory { CreateArticleUseCase(repository = get()) }
    factory { SubmitArticleUseCase(repository = get()) }
    factory { ApproveArticleUseCase(repository = get()) }
    factory { GetArticleByIdUseCase(repository = get()) }
    factory { RejectArticleUseCase(repository = get()) }
    factory { GetArticlesForModerationUseCase(repository = get()) }
    factory { GetPublishedArticledUseCase(repository = get()) }
    factory { EditArticleUseCase(articleRepository = get()) }
}
```

# app\src\main\java\kz\petproject\gts_tz\di\viewModelModule.kt

```kt
package kz.petproject.gts_tz.di

import kz.petproject.gts_tz.ui.presentation.AuthViewModel
import kz.petproject.gts_tz.ui.presentation.MainViewModel
import kz.petproject.gts_tz.ui.presentation.NewsFeedViewModel
import kz.petproject.gts_tz.ui.presentation.admin.AdminViewModel
import kz.petproject.gts_tz.ui.presentation.author.AuthorDashboardViewModel
import kz.petproject.gts_tz.ui.presentation.author.CreatePostViewModel
import org.koin.androidx.viewmodel.dsl.viewModel
import org.koin.dsl.module

val viewModelModule = module {
    viewModel { AuthViewModel(postSiginInUseCase = get(), sessionManager = get()) }
    viewModel { NewsFeedViewModel(sessionManager = get()) }
    viewModel { AdminViewModel(createUserUseCase = get()) }
    viewModel { MainViewModel(sessionManager = get()) }
    viewModel { AuthorDashboardViewModel(getMyArticlesUseCase = get()) }
    viewModel {
        CreatePostViewModel(
            createArticleUseCase = get(),
            submitArticleUseCase = get(),
            savedStateHandle = get(),
            getArticleByIdUseCase = get(),
            editArticleUseCase = get()
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\repository\ArticleRepository.kt

```kt
package kz.petproject.gts_tz.domain.repository

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.network.request.CreateArticleRequest

interface ArticleRepository {
    suspend fun getMyArticles(): Result<List<Article>>
    suspend fun createArticle(request: CreateArticleRequest): Result<Article>
    suspend fun submitArticle(articleId: String): Result<Article>

    suspend fun getPublishedArticles(): Result<List<Article>>
    suspend fun getArticleById(articleId: String): Result<Article>
    suspend fun editArticle(articleId: String, request: CreateArticleRequest): Result<Article>

    suspend fun getModerationQueue(): Result<List<Article>>
    suspend fun approveArticle(articleId: String): Result<Article>
    suspend fun rejectArticle(articleId: String, reason: String): Result<Article>
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\repository\UserRepository.kt

```kt
package kz.petproject.gts_tz.domain.repository

import kz.petproject.gts_tz.data.User
import kz.petproject.gts_tz.data.network.request.CreateUserRequest
import kz.petproject.gts_tz.data.network.request.LoginRequest

interface UserRepository {
    suspend fun login(loginRequest: LoginRequest): Result<Pair<User, String>>
    suspend fun createUser(createUserRequest: CreateUserRequest): Result<User>
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\ApproveArticleUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class ApproveArticleUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(articleId: String): Result<Article> {
        return repository.approveArticle(articleId)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\CreateArticleUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.network.request.CreateArticleRequest
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class CreateArticleUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(title: String, content: String): Result<Article> {
        val request = CreateArticleRequest(title, content)
        return repository.createArticle(request)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\CreateUserUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.User
import kz.petproject.gts_tz.data.network.request.CreateUserRequest
import kz.petproject.gts_tz.domain.repository.UserRepository

class CreateUserUseCase(private val userRepository: UserRepository) {
    suspend operator fun invoke(request: CreateUserRequest): Result<User> {
        return userRepository.createUser(request)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\EditArticleUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.network.request.CreateArticleRequest
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class EditArticleUseCase(private val articleRepository: ArticleRepository) {
    suspend operator fun invoke(articleId: String, title: String, content: String): Result<Article> {
        val request = CreateArticleRequest(title, content)
        return articleRepository.editArticle(articleId, request)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\GetArticleByIdUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class GetArticleByIdUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(articleId: String): Result<Article> {
        return repository.getArticleById(articleId)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\GetArticlesForModerationUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class GetArticlesForModerationUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(): Result<List<Article>> {
        return repository.getModerationQueue()
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\GetMyArticlesUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class GetMyArticlesUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(): Result<List<Article>> = repository.getMyArticles()
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\GetPublishedArticledUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class GetPublishedArticledUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(): Result<List<Article>> = repository.getPublishedArticles()
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\PostSiginInUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.User
import kz.petproject.gts_tz.data.network.request.LoginRequest
import kz.petproject.gts_tz.domain.repository.UserRepository

class PostSiginInUseCase(private val userRepository: UserRepository) {
    suspend operator fun invoke(loginRequest: LoginRequest): Result<Pair<User, String>> {
        return userRepository.login(loginRequest)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\RejectArticleUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class RejectArticleUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(articleId: String, reason: String): Result<Article> {
        return repository.rejectArticle(articleId, reason)
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\domain\use_cases\SubmitArticleUseCase.kt

```kt
package kz.petproject.gts_tz.domain.use_cases

import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.domain.repository.ArticleRepository

class SubmitArticleUseCase(private val repository: ArticleRepository) {
    suspend operator fun invoke(articleId: String): Result<Article> = repository.submitArticle(articleId)
}
```

# app\src\main\java\kz\petproject\gts_tz\MainActivity.kt

```kt
package kz.petproject.gts_tz

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.activity.enableEdgeToEdge
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Scaffold
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import kz.petproject.gts_tz.ui.presentation.navigation.AppNavigation
import kz.petproject.gts_tz.ui.theme.GTS_TZTheme

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContent {
            GTS_TZTheme {
                AppNavigation()
            }
        }
    }
}

```

# app\src\main\java\kz\petproject\gts_tz\MyApp.kt

```kt
package kz.petproject.gts_tz

import android.app.Application
import kz.petproject.gts_tz.di.mapperModule
import kz.petproject.gts_tz.di.networkModule
import kz.petproject.gts_tz.di.repositoryModule
import kz.petproject.gts_tz.di.storageModule
import kz.petproject.gts_tz.di.useCaseModule
import kz.petproject.gts_tz.di.viewModelModule
import org.koin.android.ext.koin.androidContext
import org.koin.core.context.startKoin
import org.koin.core.parameter.parametersOf

class MyApp : Application() {

    private val modulesToUse = listOf(
        viewModelModule,
        mapperModule,
        repositoryModule,
        networkModule,
        useCaseModule,
        storageModule,
    )

    override fun onCreate() {
        super.onCreate()

        startKoin {
            androidContext(this@MyApp)
            parametersOf(Constants.BASE_URL)
            modules(modulesToUse)
        }
    }
}

```

# app\src\main\java\kz\petproject\gts_tz\ui\model\ArticleCard.kt

```kt
package kz.petproject.gts_tz.ui.model

import android.icu.text.SimpleDateFormat
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.Spacer
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.foundation.layout.height
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Card
import androidx.compose.material3.CardDefaults
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.text.style.TextOverflow
import androidx.compose.ui.unit.dp
import kz.petproject.gts_tz.data.Article
import java.util.Date
import java.util.Locale

private fun formatDate(timestamp: Long?): String {
    if (timestamp == null) return "N/A"
    val date = Date(timestamp)
    val format = SimpleDateFormat("d MMMM yyyy", Locale("ru")) // Example: "15 мая 2023"
    return format.format(date)
}

/**
 * Represents a single news item card in the feed.
 *
 * @param article The article data to display.
 * @param onClick The action to perform when the card is clicked.
 */

@Composable
fun ArticleCard(
    article: Article,
    onClick: () -> Unit
) {
    Card(
        onClick = onClick,
        modifier = Modifier.fillMaxWidth(),
        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)
    ) {
        Column(modifier = Modifier.padding(16.dp)) {
            Text(
                text = article.title,
                style = MaterialTheme.typography.titleLarge,
                maxLines = 2,
                overflow = TextOverflow.Ellipsis
            )
            Spacer(modifier = Modifier.height(4.dp))
            Text(
                text = "Автор: ${article.author} · ${formatDate(article.publishedAt)}",
                style = MaterialTheme.typography.bodySmall,
                color = MaterialTheme.colorScheme.onSurfaceVariant
            )
            Spacer(modifier = Modifier.height(12.dp))
            Text(
                text = article.content,
                style = MaterialTheme.typography.bodyMedium,
                maxLines = 3,
                overflow = TextOverflow.Ellipsis
            )
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\model\AuthorArticleCard.kt

```kt
package kz.petproject.gts_tz.ui.model

import androidx.compose.foundation.background
import androidx.compose.foundation.layout.Arrangement
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.Row
import androidx.compose.foundation.layout.Spacer
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.foundation.layout.height
import androidx.compose.foundation.layout.padding
import androidx.compose.foundation.layout.width
import androidx.compose.foundation.shape.CircleShape
import androidx.compose.material3.Card
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.clip
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
import kz.petproject.gts_tz.data.Article

@Composable
fun AuthorArticleCard(
    article: Article,
    onArticleClick: (articleId: String) -> Unit
) {
    val isClickable = article.status in listOf("REJECTED", "DRAFT")
    
    Card(
        // Only rejected articles can be clicked to be edited.
        onClick = { if (isClickable) onArticleClick(article.id) },
        enabled = isClickable, // This controls the visual feedback (ripple effect)
        modifier = Modifier.fillMaxWidth()
    ) {
        Column(Modifier.padding(16.dp)) {
            Row(
                modifier = Modifier.fillMaxWidth(),
                horizontalArrangement = Arrangement.SpaceBetween,
                verticalAlignment = Alignment.CenterVertically
            ) {
                Text(
                    text = article.title,
                    style = MaterialTheme.typography.titleMedium,
                    modifier = Modifier.weight(1f, fill = false)
                )
                Spacer(modifier = Modifier.width(8.dp))
                StatusChip(article.status)
            }
            // If the article was rejected, show the reason.
            if (article.status == "REJECTED") {
                Spacer(Modifier.height(8.dp))
                Text(
                    text = "Причина: ${article.rejectionReason}",
                    style = MaterialTheme.typography.bodySmall,
                    color = MaterialTheme.colorScheme.error
                )
            }
        }
    }
}

@Composable
private fun StatusChip(status: String) {
    val (backgroundColor, textColor) = when (status) {
        "PUBLISHED" -> MaterialTheme.colorScheme.primaryContainer to MaterialTheme.colorScheme.onPrimaryContainer
        "ON_MODERATION" -> MaterialTheme.colorScheme.tertiaryContainer to MaterialTheme.colorScheme.onTertiaryContainer
        "REJECTED" -> MaterialTheme.colorScheme.errorContainer to MaterialTheme.colorScheme.onErrorContainer
        "DRAFT" -> MaterialTheme.colorScheme.secondaryContainer to MaterialTheme.colorScheme.onSecondaryContainer
        else -> MaterialTheme.colorScheme.secondaryContainer to MaterialTheme.colorScheme.onSecondaryContainer
    }
    // A mapping for user-friendly status text
    val statusText = when (status) {
        "PUBLISHED" -> "Опубликована"
        "ON_MODERATION" -> "На модерации"
        "REJECTED" -> "Отклонена"
        "DRAFT" -> "Черновик"
        else -> "Неизвестно"
    }

    Text(
        text = statusText,
        color = textColor,
        fontWeight = FontWeight.Medium,
        modifier = Modifier
            .clip(CircleShape)
            .background(backgroundColor)
            .padding(horizontal = 10.dp, vertical = 4.dp),
        fontSize = 12.sp
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\admin\AdminContract.kt

```kt
package kz.petproject.gts_tz.ui.presentation.admin

import kz.petproject.gts_tz.data.User

object AdminContract {
    data class State(
        val users: List<User> = emptyList(),
        val newUserName: String = "",
        val newUserLogin: String = "",
        val newUserPassword: String = "",
        val selectedRole: String? = null,
        val isLoading: Boolean = false,
        val error: String? = null,
        val successMessage: String? = null
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\admin\AdminDashboardRoute.kt

```kt
package kz.petproject.gts_tz.ui.presentation.admin

import androidx.compose.material3.SnackbarHost
import androidx.compose.material3.SnackbarHostState
import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.runtime.collectAsState
import androidx.compose.runtime.getValue
import androidx.compose.runtime.remember
import org.koin.androidx.compose.koinViewModel

@Composable
fun AdminDashboardRoute(
    viewModel: AdminViewModel = koinViewModel(),
) {
    val state by viewModel.state.collectAsState()
    val snackbarHostState = remember { SnackbarHostState() }

    LaunchedEffect(state.error) {
        state.error?.let {
            snackbarHostState.showSnackbar(message = it)
        }
    }
    LaunchedEffect(state.successMessage) {
        state.successMessage?.let {
            snackbarHostState.showSnackbar(message = it)
        }
    }

    AdminDashboardScreen(
        state = state,
        snackbarHost = { SnackbarHost(snackbarHostState) },
        onNameChange = viewModel::onNameChange,
        onLoginChange = viewModel::onLoginChange,
        onPasswordChange = viewModel::onPasswordChange,
        onRoleChange = viewModel::onRoleChange,
        onCreateUser = viewModel::onCreateUser,
        onNavigateUp = { /* In Bottom Nav, this is not typically used */ }
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\admin\AdminDashboardScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.admin

import androidx.compose.foundation.background
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.foundation.shape.CircleShape
import androidx.compose.foundation.text.KeyboardOptions
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.Favorite
import androidx.compose.material.icons.filled.FavoriteBorder
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.runtime.saveable.rememberSaveable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.clip
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.text.input.KeyboardType
import androidx.compose.ui.text.input.PasswordVisualTransformation
import androidx.compose.ui.text.input.VisualTransformation
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import kz.petproject.gts_tz.data.DummyData
import kz.petproject.gts_tz.data.User

@Composable
private fun RoleChip(role: String) {
    val (backgroundColor, textColor) = when (role) {
        "ADMIN" -> MaterialTheme.colorScheme.primaryContainer to MaterialTheme.colorScheme.onPrimaryContainer
        "AUTHOR" -> MaterialTheme.colorScheme.secondaryContainer to MaterialTheme.colorScheme.onSecondaryContainer
        "MODERATOR" -> MaterialTheme.colorScheme.tertiaryContainer to MaterialTheme.colorScheme.onTertiaryContainer
        else -> MaterialTheme.colorScheme.surfaceVariant to MaterialTheme.colorScheme.onSurfaceVariant
    }
    val roleText = when (role) {
        "ADMIN" -> "Админ"
        "AUTHOR" -> "Автор"
        "MODERATOR" -> "Модератор"
        else -> "Неизвестно"
    }

    Text(
        text = roleText,
        color = textColor,
        fontWeight = FontWeight.Medium,
        modifier = Modifier
            .clip(CircleShape)
            .background(backgroundColor)
            .padding(horizontal = 10.dp, vertical = 4.dp)
    )
}

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun AdminDashboardScreen(
    state: AdminContract.State,
    snackbarHost: @Composable () -> Unit,
    onNameChange: (String) -> Unit,
    onLoginChange: (String) -> Unit,
    onPasswordChange: (String) -> Unit,
    onRoleChange: (String) -> Unit,
    onCreateUser: () -> Unit,
    onNavigateUp: () -> Unit // Kept for preview, but not used in bottom nav
) {
    var passwordVisible by rememberSaveable { mutableStateOf(false) }
    val roles = listOf("AUTHOR", "MODERATOR")
    var isDropdownExpanded by remember { mutableStateOf(false) }

    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("Панель администратора") },
            )
        },
        snackbarHost = snackbarHost
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .padding(paddingValues)
                .padding(16.dp)
                .fillMaxSize(),
            verticalArrangement = Arrangement.spacedBy(16.dp)
        ) {
            Text("Создать нового пользователя", style = MaterialTheme.typography.titleLarge)

            OutlinedTextField(
                value = state.newUserName,
                onValueChange = onNameChange,
                label = { Text("Имя и фамилия") },
                modifier = Modifier.fillMaxWidth(),
                singleLine = true
            )

            OutlinedTextField(
                value = state.newUserLogin,
                onValueChange = onLoginChange,
                label = { Text("Логин") },
                modifier = Modifier.fillMaxWidth(),
                singleLine = true
            )

            OutlinedTextField(
                value = state.newUserPassword,
                onValueChange = onPasswordChange,
                label = { Text("Пароль") },
                singleLine = true,
                visualTransformation = if (passwordVisible) VisualTransformation.None else PasswordVisualTransformation(),
                keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Password),
                trailingIcon = {
                    val image = if (passwordVisible) Icons.Default.Favorite else Icons.Filled.FavoriteBorder
                    IconButton(onClick = { passwordVisible = !passwordVisible }) {
                        Icon(imageVector = image, contentDescription = "Показать/скрыть пароль")
                    }
                },
                modifier = Modifier.fillMaxWidth()
            )

            ExposedDropdownMenuBox(
                expanded = isDropdownExpanded,
                onExpandedChange = { isDropdownExpanded = !isDropdownExpanded }
            ) {
                OutlinedTextField(
                    value = state.selectedRole?.replaceFirstChar { it.titlecase() } ?: "Выберите роль",
                    onValueChange = {},
                    readOnly = true,
                    label = { Text("Роль") },
                    trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = isDropdownExpanded) },
                    modifier = Modifier
                        .menuAnchor()
                        .fillMaxWidth()
                )
                ExposedDropdownMenu(
                    expanded = isDropdownExpanded,
                    onDismissRequest = { isDropdownExpanded = false }
                ) {
                    roles.forEach { role ->
                        DropdownMenuItem(
                            text = { Text(role.replaceFirstChar { it.titlecase() }) },
                            onClick = {
                                onRoleChange(role)
                                isDropdownExpanded = false
                            }
                        )
                    }
                }
            }

            Button(
                onClick = onCreateUser,
                modifier = Modifier.fillMaxWidth(),
                enabled = state.newUserName.isNotBlank() && state.newUserLogin.isNotBlank() && state.newUserPassword.isNotBlank() && state.selectedRole != null && !state.isLoading
            ) {
                if (state.isLoading) {
                    CircularProgressIndicator(modifier = Modifier.size(24.dp), color = MaterialTheme.colorScheme.onPrimary)
                } else {
                    Text("Создать пользователя")
                }
            }

            HorizontalDivider(modifier = Modifier.padding(vertical = 16.dp))

            Text("Существующие пользователи", style = MaterialTheme.typography.titleLarge)

            LazyColumn(verticalArrangement = Arrangement.spacedBy(8.dp)) {
                items(state.users, key = { it.id }) { user ->
                    Card(modifier = Modifier.fillMaxWidth()) {
                        Row(
                            modifier = Modifier.padding(horizontal = 16.dp, vertical = 12.dp),
                            verticalAlignment = Alignment.CenterVertically,
                            horizontalArrangement = Arrangement.SpaceBetween
                        ) {
                            Column(modifier = Modifier.weight(1f)) {
                                Text(user.name, style = MaterialTheme.typography.bodyLarge)
                                Text(user.login, style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)
                            }
                            RoleChip(user.role)
                        }
                    }
                }
            }
        }
    }
}


@Preview(name = "Admin Dashboard", showBackground = true)
@Composable
fun AdminDashboardScreenPreview() {
    MaterialTheme {
        AdminDashboardScreen(
            state = AdminContract.State(users = DummyData.users),
            snackbarHost = {},
            onNameChange = {},
            onLoginChange = {},
            onPasswordChange = {},
            onRoleChange = {},
            onCreateUser = {},
            onNavigateUp = {}
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\admin\AdminViewModel.kt

```kt
package kz.petproject.gts_tz.ui.presentation.admin

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch
import kz.petproject.gts_tz.data.DummyData
import kz.petproject.gts_tz.data.network.request.CreateUserRequest
import kz.petproject.gts_tz.domain.use_cases.CreateUserUseCase

class AdminViewModel(
    private val createUserUseCase: CreateUserUseCase
) : ViewModel() {

    private val _state = MutableStateFlow(AdminContract.State())
    val state = _state.asStateFlow()

    init {
        //TODO: For now, load dummy users. Later, this could be a network call.
        _state.update { it.copy(users = DummyData.users) }
    }

    fun onNameChange(name: String) = _state.update { it.copy(newUserName = name, error = null, successMessage = null) }
    fun onLoginChange(login: String) = _state.update { it.copy(newUserLogin = login, error = null, successMessage = null) }
    fun onPasswordChange(password: String) = _state.update { it.copy(newUserPassword = password, error = null, successMessage = null) }
    fun onRoleChange(role: String) = _state.update { it.copy(selectedRole = role, error = null, successMessage = null) }

    fun onCreateUser() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true, error = null, successMessage = null) }

            val request = CreateUserRequest(
                name = _state.value.newUserName.trim(),
                login = _state.value.newUserLogin.trim(),
                password = _state.value.newUserPassword,
                role = _state.value.selectedRole!!
            )

            createUserUseCase(request)
                .onSuccess { newUser ->
                    _state.update {
                        it.copy(
                            isLoading = false,
                            successMessage = "User '${newUser.name}' created successfully!",
                            users = it.users + newUser, // Add new user to the list
                            // Reset form fields
                            newUserName = "",
                            newUserLogin = "",
                            newUserPassword = "",
                            selectedRole = null
                        )
                    }
                }
                .onFailure { exception ->
                    _state.update {
                        it.copy(
                            isLoading = false,
                            error = exception.message ?: "An unknown error occurred"
                        )
                    }
                }
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\AuthContract.kt

```kt
package kz.petproject.gts_tz.ui.presentation

// A contract file helps to define the interaction between UI and ViewModel
object AuthContract {
    data class State(
        val loginInput: String = "",
        val passwordInput: String = "",
        val isLoading: Boolean = false,
        val error: String? = null
    )

    sealed class Effect {
        data object NavigateToMain : Effect()
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\AuthorDashboardRoute.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import androidx.compose.runtime.Composable
import androidx.compose.runtime.collectAsState
import androidx.compose.runtime.getValue
import androidx.navigation.NavController
import org.koin.androidx.compose.koinViewModel

@Composable
fun AuthorDashboardRoute(
    navController: NavController,
    viewModel: AuthorDashboardViewModel = koinViewModel()
) {
    val state by viewModel.state.collectAsState()

    val onArticleClick: (String) -> Unit = { articleId ->
        navController.navigate("create_post_screen/$articleId")
    }

    val onFabClick: () -> Unit = {
        navController.navigate("create_post_screen/new")
    }

    AuthorDashboardScreen(
        authorArticles = state.articles,
        onArticleClick = onArticleClick,
        onFabClick = onFabClick,
        onNavigateUp = { navController.popBackStack() },
        onRefresh = viewModel::onRefresh,
        isLoading = state.isLoading
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\AuthorDashboardScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import androidx.compose.foundation.layout.Arrangement
import androidx.compose.foundation.layout.Box
import androidx.compose.foundation.layout.PaddingValues
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.padding
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.Add
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material3.CircularProgressIndicator
import androidx.compose.material3.ExperimentalMaterial3Api
import androidx.compose.material3.FloatingActionButton
import androidx.compose.material3.Icon
import androidx.compose.material3.IconButton
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Scaffold
import androidx.compose.material3.Text
import androidx.compose.material3.TopAppBar
import androidx.compose.material3.pulltorefresh.PullToRefreshContainer
import androidx.compose.material3.pulltorefresh.rememberPullToRefreshState
import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.input.nestedscroll.nestedScroll
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.DummyData
import kz.petproject.gts_tz.ui.model.AuthorArticleCard

/**
 * The main screen for an author to view their own articles and statuses.
 *
 * @param authorName The name of the current author.
 * @param authorArticles The list of articles written by this author.
 * @param onArticleClick Lambda for when a (rejected) article is clicked.
 * @param onFabClick Lambda for the "create new post" floating action button.
 * @param onNavigateUp Lambda for back navigation.
 */

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun AuthorDashboardScreen(
    authorArticles: List<Article>,
    onArticleClick: (articleId: String) -> Unit,
    onFabClick: () -> Unit,
    onRefresh: () -> Unit,
    isLoading: Boolean = false,
    onNavigateUp: () -> Unit
) {

    val pullToRefreshState = rememberPullToRefreshState()

    if (pullToRefreshState.isRefreshing) {
        LaunchedEffect(true) {
            onRefresh()
        }
    }

    LaunchedEffect(isLoading) {
        if (!isLoading) {
            pullToRefreshState.endRefresh()
        }
    }

    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("Мои статьи") }
            )
        },
        floatingActionButton = {
            FloatingActionButton(onClick = onFabClick) {
                Icon(Icons.Default.Add, contentDescription = "Создать статью")
            }
        }
    ) { paddingValues ->


        Box(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues)
                .nestedScroll(pullToRefreshState.nestedScrollConnection)
        ) {

            if (authorArticles.isEmpty() && isLoading && !pullToRefreshState.isRefreshing) {
                // Show a full-screen loader only on initial load
                Box(
                    modifier = Modifier.fillMaxSize(),
                    contentAlignment = Alignment.Center
                ) {
                    CircularProgressIndicator()
                }
            } else if (authorArticles.isEmpty()) {
                Box(
                    modifier = Modifier.fillMaxSize(),
                    contentAlignment = Alignment.Center
                ) {
                    Text(
                        "Вы еще не написали ни одной статьи.\nНажмите '+' чтобы начать.",
                        style = MaterialTheme.typography.bodyLarge,
                        color = MaterialTheme.colorScheme.onSurfaceVariant
                    )
                }
            } else {
                LazyColumn(
                    modifier = Modifier.fillMaxSize(),
                    contentPadding = PaddingValues(16.dp),
                    verticalArrangement = Arrangement.spacedBy(12.dp)
                ) {
                    items(authorArticles, key = { it.id }) { article ->
                        AuthorArticleCard(
                            article = article,
                            onArticleClick = onArticleClick
                        )
                    }
                }
            }

            // 5. Place the PullToRefreshContainer at the top center of the Box
            PullToRefreshContainer(
                state = pullToRefreshState,
                modifier = Modifier.align(Alignment.TopCenter)
            )
        }
    }
}


// --- PREVIEWS ---
//
//@Preview(name = "Author Dashboard - With Posts", showBackground = true)
//@Composable
//fun AuthorDashboardScreenPreview_WithPosts() {
//    MaterialTheme {
//        AuthorDashboardScreen(
//            authorName = "Иван Петров",
//            // We get all articles written by author with id 1
//            authorArticles = DummyData.articles,
//            onArticleClick = {},
//            onFabClick = {},
//            onNavigateUp = {}
//        )
//    }
//}
//
//@Preview(name = "Author Dashboard - Empty State", showBackground = true)
//@Composable
//fun AuthorDashboardScreenPreview_Empty() {
//    MaterialTheme {
//        AuthorDashboardScreen(
//            authorName = "Новый Автор",
//            authorArticles = emptyList(), // No articles yet
//            onArticleClick = {},
//            onFabClick = {},
//            onNavigateUp = {}
//        )
//    }
//}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\AuthorDashboardState.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import kz.petproject.gts_tz.data.Article

/**
 * State holder for the Author Dashboard screen.
 *
 * @param articles The list of articles belonging to the author.
 * @param isLoading True if articles are currently being fetched.
 * @param error An optional error message if the fetch fails.
 */
data class AuthorDashboardState(
    val articles: List<Article> = emptyList(),
    val isLoading: Boolean = true,
    val error: String? = null
)



```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\AuthorDashboardViewModel.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch
import kz.petproject.gts_tz.domain.use_cases.GetMyArticlesUseCase

/** ViewModel for the Author Dashboard.It handles fetching and displaying the author's articles.
 *
 * @param getMyArticlesUseCase The use case to fetch the articles from the repository .
 */
class AuthorDashboardViewModel(
    private val getMyArticlesUseCase: GetMyArticlesUseCase
) : ViewModel() {
    private val _state = MutableStateFlow(AuthorDashboardState())
    val state = _state.asStateFlow()

    init {
        loadArticles()
    }

    fun onRefresh(){
        loadArticles()
    }

    /**
     * Fetches the list of articles for the current author from the server.
     */
    private fun loadArticles() {
        viewModelScope.launch {
            // Set loading state to true before the network call
            _state.update { it.copy(isLoading = true, error = null) }

            getMyArticlesUseCase()
                .onSuccess { articles ->
                    // On success, update the state with the fetched articles and stop loading
                    _state.update {
                        it.copy(
                            articles = articles.sortedByDescending { article -> article.createdAt },
                            isLoading = false
                        )
                    }
                }
                .onFailure { exception ->
                    // On failure, update the state with an error message and stop loading
                    _state.update {
                        it.copy(
                            error = exception.message ?: "An unknown error occurred",
                            isLoading = false
                        )
                    }
                }
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\CreatePostRoute.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import androidx.compose.material3.SnackbarHostState
import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.runtime.collectAsState
import androidx.compose.runtime.getValue
import androidx.compose.runtime.remember
import androidx.navigation.NavController
import kotlinx.coroutines.flow.collectLatest
import org.koin.androidx.compose.koinViewModel

@Composable
fun CreatePostRoute(
    navController: NavController,
    viewModel: CreatePostViewModel = koinViewModel()
) {
    val state by viewModel.state.collectAsState()
    val snackbarHostState = remember { SnackbarHostState() }

    LaunchedEffect(Unit) {
        viewModel.effect.collectLatest { effect ->
            when (effect) {
                is CreatePostEffect.NavigateBack -> {
                    navController.popBackStack()
                }
                is CreatePostEffect.ShowSnackbar -> {
                    snackbarHostState.showSnackbar(effect.message)
                }
            }
        }
    }

    // Note: The Scaffold for the snackbar should be here or in CreatePostScreen
    // For simplicity, we're just passing the logic down.
    CreatePostScreen(
        title = state.title,
        onTitleChange = viewModel::onTitleChange,
        content = state.content,
        onContentChange = viewModel::onContentChange,
        isEditing = state.isEditing,
        onSaveClick = viewModel::onSaveClicked,
        onSubmitClick = viewModel::onSubmitClicked,
        onNavigateUp = { navController.popBackStack() },
        isLoading = state.isLoading,
        status = state.status ?: "DRAFT"
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\CreatePostScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import android.util.Log
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.rememberScrollState
import androidx.compose.foundation.verticalScroll
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp

/**
 * A stateless screen for creating or editing an article.
 *
 * @param title The current value for the article title.
 * @param onTitleChange Lambda called when the title text changes.
 * @param content The current value for the article content.
 * @param onContentChange Lambda called when the content text changes.
 * @param isEditing A boolean flag to indicate if the screen is in "edit" mode.
 * @param onSaveClick Lambda called when the user clicks the save draft button.
 * @param onSubmitClick Lambda called when the user clicks the submit button.
 * @param onNavigateUp Lambda for handling back navigation.
 * @param isLoading True if a network operation is in progress.
 */
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun CreatePostScreen(
    title: String,
    onTitleChange: (String) -> Unit,
    content: String,
    onContentChange: (String) -> Unit,
    isEditing: Boolean,
    onSaveClick: () -> Unit,
    onSubmitClick: () -> Unit,
    onNavigateUp: () -> Unit,
    isLoading: Boolean,
    status: String
) {
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text(if (isEditing) "Редактирование статьи" else "Новая статья") },
                navigationIcon = {
                    IconButton(onClick = onNavigateUp, enabled = !isLoading) {
                        Icon(Icons.Default.ArrowBack, contentDescription = "Назад")
                    }
                }
            )
        }
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .padding(paddingValues)
                .padding(16.dp)
                .fillMaxSize()
                .verticalScroll(rememberScrollState()),
            verticalArrangement = Arrangement.spacedBy(16.dp)
        ) {
            OutlinedTextField(
                value = title,
                onValueChange = onTitleChange,
                modifier = Modifier.fillMaxWidth(),
                label = { Text("Заголовок") },
                singleLine = true,
                enabled = !isLoading
            )

            OutlinedTextField(
                value = content,
                onValueChange = onContentChange,
                modifier = Modifier
                    .fillMaxWidth()
                    .defaultMinSize(minHeight = 200.dp),
                label = { Text("Текст статьи") },
                enabled = !isLoading
            )

            Spacer(modifier = Modifier.weight(1f))

            if (isLoading) {
                CircularProgressIndicator(modifier = Modifier.fillMaxWidth().wrapContentWidth())
            } else {
                Row(
                    modifier = Modifier.fillMaxWidth(),
                    horizontalArrangement = Arrangement.spacedBy(16.dp)
                ) {
                    OutlinedButton(
                        onClick = onSaveClick,
                        modifier = Modifier.weight(1f),
                        enabled = title.isNotBlank() && content.isNotBlank()
                    ) {
                        Text(text = "Сохранить как черновик")
                    }

                    val isSubmittable = status in listOf("DRAFT", "REJECTED")

                    Button(
                        onClick = onSubmitClick,
                        modifier = Modifier.weight(1f),
                        // Disable if fields are blank OR if the status is not submittable
                        enabled = title.isNotBlank() && content.isNotBlank() && isSubmittable
                    ) {
                        Text(text = "На модерацию")
                    }
                }
            }
        }
    }
}

@Preview(name = "Create New Post", showBackground = true)
@Composable
fun CreatePostScreenPreview_New() {
    var title by remember { mutableStateOf("") }
    var content by remember { mutableStateOf("") }

    MaterialTheme {
        CreatePostScreen(
            title = title,
            onTitleChange = { title = it },
            content = content,
            onContentChange = { content = it },
            isEditing = false,
            onSaveClick = {},
            onSubmitClick = { },
            onNavigateUp = { },
            isLoading = false,
            status = "DRAFT"
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\author\CreatePostState.kt

```kt
package kz.petproject.gts_tz.ui.presentation.author

import android.util.Log
import androidx.lifecycle.SavedStateHandle
import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.receiveAsFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch
import kz.petproject.gts_tz.domain.use_cases.CreateArticleUseCase
import kz.petproject.gts_tz.domain.use_cases.EditArticleUseCase
import kz.petproject.gts_tz.domain.use_cases.GetArticleByIdUseCase
import kz.petproject.gts_tz.domain.use_cases.SubmitArticleUseCase

data class CreatePostState(
    val articleId: String? = null,
    val title: String = "",
    val content: String = "",
    val isEditing: Boolean = false,
    val isLoading: Boolean = false,
    val error: String? = null,
    val status: String? = "DRAFT"
)

sealed class CreatePostEffect {
    data class ShowSnackbar(val message: String) : CreatePostEffect()
    data object NavigateBack : CreatePostEffect()
}


class CreatePostViewModel(
    private val createArticleUseCase: CreateArticleUseCase,
    private val submitArticleUseCase: SubmitArticleUseCase,
    private val getArticleByIdUseCase: GetArticleByIdUseCase,
    private val editArticleUseCase: EditArticleUseCase,
    savedStateHandle: SavedStateHandle
) : ViewModel() {

    private val _state = MutableStateFlow(CreatePostState())
    val state = _state.asStateFlow()

    private val _effect = Channel<CreatePostEffect>()
    val effect = _effect.receiveAsFlow()

    init {
        val articleId: String? = savedStateHandle["articleId"]
        if (articleId != null && articleId != "new") {
            // If the ID is valid, trigger the loading function.
            loadArticleForEditing(articleId)
        }
    }

    /**
     * Fetches the data for a single article and populates the state.
     */
    private fun loadArticleForEditing(articleId: String) {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true, error = null) }
            getArticleByIdUseCase(articleId)
                .onSuccess { article ->
                    Log.e("viewmodel", "changing the isEditing ${_state.value.isEditing}, before loading")
                    // On success, update the state with the fetched data
                    _state.update {
                        it.copy(
                            isLoading = false,
                            isEditing = true,
                            articleId = article.id,
                            title = article.title,
                            content = article.content,
                            status = article.status
                        )
                    }
                    Log.e("viewmodel", "changing the isEditing to true ${_state.value.isEditing}, after loading")
                }
                .onFailure { handleFailure(it) }
        }
    }

    fun onTitleChange(title: String) = _state.update { it.copy(title = title, error = null) }
    fun onContentChange(content: String) = _state.update { it.copy(content = content, error = null) }


    fun onSaveClicked() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true, error = null) }
            val currentState = state.value

            if (currentState.isEditing) {
                // --- UPDATE LOGIC ---
                Log.e("viewmodel", "${currentState.articleId} editing")
                editArticleUseCase(currentState.articleId!!, currentState.title, currentState.content)
                    .onSuccess {
                        _effect.send(CreatePostEffect.ShowSnackbar("Article updated successfully"))
                        _effect.send(CreatePostEffect.NavigateBack)
                    }
                    .onFailure { handleFailure(it) }
            } else {
                // --- CREATE LOGIC ---
                Log.e("viewmodel", "creating")
                createArticleUseCase(currentState.title, currentState.content)
                    .onSuccess {
                        _effect.send(CreatePostEffect.ShowSnackbar("Draft saved successfully"))
                        _effect.send(CreatePostEffect.NavigateBack)
                    }
                    .onFailure { handleFailure(it) }
            }
        }
    }

    fun onSubmitClicked() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true, error = null) }
            val currentState = state.value

            if (currentState.isEditing) {
                // --- UPDATE AND SUBMIT ---
                Log.e("viewmodel submit", "${currentState.articleId} editing")
                editArticleUseCase(currentState.articleId!!, currentState.title, currentState.content)
                    .onSuccess { updatedArticle ->
                        Log.e("viewmodel submit", "submitting")
                        submitArticleForModeration(updatedArticle.id)
                        Log.e("viewmodel submit", "submitted")
                    }
                    .onFailure { handleFailure(it) }
            } else {
                // --- CREATE AND SUBMIT ---
                Log.e("viewmodel submit", "creating")
                createArticleUseCase(currentState.title, currentState.content)
                    .onSuccess { createdArticle ->
                        submitArticleForModeration(createdArticle.id)
                    }
                    .onFailure { handleFailure(it) }
            }
        }
    }

    private suspend fun submitArticleForModeration(articleId: String) {
        Log.e("viewmodel submit", "sumbitArctileForModeration")
        submitArticleUseCase(articleId)
            .onSuccess {
                _effect.send(CreatePostEffect.ShowSnackbar("Article submitted for moderation"))
                _effect.send(CreatePostEffect.NavigateBack)
            }
            .onFailure { handleFailure(it) }
    }

    private fun handleFailure(exception: Throwable) {
        _state.update {
            it.copy(
                isLoading = false,
                error = exception.message ?: "An unknown error occurred"
            )
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\AuthScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.text.KeyboardOptions
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.Favorite
import androidx.compose.material.icons.filled.FavoriteBorder
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.runtime.saveable.rememberSaveable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.text.input.KeyboardType
import androidx.compose.ui.text.input.PasswordVisualTransformation
import androidx.compose.ui.text.input.VisualTransformation
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp

/**
 * A stateless authentication screen.
 * It is designed to be controlled by a ViewModel.
 *
 * @param login The current value for the login field.
 * @param password The current value for the password field.
 * @param onLoginChange Lambda to be called when the login text changes.
 * @param onPasswordChange Lambda to be called when the password text changes.
 * @param onLoginClick Lambda to be called when the login button is clicked.
 * @param isLoading True if the login process is in progress.
 * @param error An optional error message to display.
 */
@Composable
fun AuthScreen(
    login: String,
    password: String,
    onLoginChange: (String) -> Unit,
    onPasswordChange: (String) -> Unit,
    onLoginClick: () -> Unit,
    isLoading: Boolean,
    error: String?
) {
    var passwordVisible by rememberSaveable { mutableStateOf(false) }

    Column(
        modifier = Modifier
            .fillMaxSize()
            .padding(horizontal = 24.dp),
        verticalArrangement = Arrangement.Center,
        horizontalAlignment = Alignment.CenterHorizontally
    ) {
        Text(
            text = "Авторизация",
            style = MaterialTheme.typography.headlineLarge
        )

        Spacer(modifier = Modifier.height(48.dp))

        // Login Field
        OutlinedTextField(
            value = login,
            onValueChange = onLoginChange,
            modifier = Modifier.fillMaxWidth(),
            label = { Text("Логин") },
            singleLine = true,
            isError = error != null // Highlight field if there is any error
        )

        Spacer(modifier = Modifier.height(16.dp))

        // Password Field
        OutlinedTextField(
            value = password,
            onValueChange = onPasswordChange,
            modifier = Modifier.fillMaxWidth(),
            label = { Text("Пароль") },
            singleLine = true,
            visualTransformation = if (passwordVisible) VisualTransformation.None else PasswordVisualTransformation(),
            keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Password),
            trailingIcon = {
                val image = if (passwordVisible)
                    Icons.Filled.Favorite
                else Icons.Filled.FavoriteBorder

                val description = if (passwordVisible) "Скрыть пароль" else "Показать пароль"

                IconButton(onClick = { passwordVisible = !passwordVisible }) {
                    Icon(imageVector = image, description)
                }
            },
            isError = error != null
        )

        // Error Message
        if (error != null) {
            Spacer(modifier = Modifier.height(8.dp))
            Text(
                text = error,
                color = MaterialTheme.colorScheme.error,
                style = MaterialTheme.typography.bodyMedium,
                modifier = Modifier.align(Alignment.Start)
            )
        }

        Spacer(modifier = Modifier.height(32.dp))

        // Login Button or Progress Indicator
        if (isLoading) {
            CircularProgressIndicator()
        } else {
            Button(
                onClick = onLoginClick,
                modifier = Modifier.fillMaxWidth(),
                enabled = login.isNotBlank() && password.isNotBlank()
            ) {
                Text("Войти", style = MaterialTheme.typography.titleMedium)
            }
        }
    }
}

// --- PREVIEWS ---

@Preview(name = "Default State", showBackground = true, widthDp = 360, heightDp = 640)
@Composable
fun AuthScreenPreview_Default() {
    MaterialTheme { // Wrap in a theme for proper previewing
        AuthScreen(
            login = "",
            password = "",
            onLoginChange = {},
            onPasswordChange = {},
            onLoginClick = {},
            isLoading = false,
            error = null
        )
    }
}

@Preview(name = "With Input", showBackground = true, widthDp = 360, heightDp = 640)
@Composable
fun AuthScreenPreview_WithInput() {
    MaterialTheme {
        AuthScreen(
            login = "author_1",
            password = "password123",
            onLoginChange = {},
            onPasswordChange = {},
            onLoginClick = {},
            isLoading = false,
            error = null
        )
    }
}

@Preview(name = "Loading State", showBackground = true, widthDp = 360, heightDp = 640)
@Composable
fun AuthScreenPreview_Loading() {
    MaterialTheme {
        AuthScreen(
            login = "author_1",
            password = "password123",
            onLoginChange = {},
            onPasswordChange = {},
            onLoginClick = {},
            isLoading = true,
            error = null
        )
    }
}

@Preview(name = "Error State", showBackground = true, widthDp = 360, heightDp = 640)
@Composable
fun AuthScreenPreview_Error() {
    MaterialTheme {
        AuthScreen(
            login = "author_1",
            password = "wrongpassword",
            onLoginChange = {},
            onPasswordChange = {},
            onLoginClick = {},
            isLoading = false,
            error = "Неверный логин или пароль"
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\AuthViewModel.kt

```kt
package kz.petproject.gts_tz.ui.presentation

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kz.petproject.gts_tz.data.local.SessionManager
import kz.petproject.gts_tz.data.network.request.LoginRequest
import kz.petproject.gts_tz.domain.use_cases.PostSiginInUseCase
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.receiveAsFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch

class AuthViewModel(
    private val postSiginInUseCase: PostSiginInUseCase,
    private val sessionManager: SessionManager // Changed from TokenManager
) : ViewModel() {

    private val _state = MutableStateFlow(AuthContract.State())
    val state = _state.asStateFlow()

    private val _effect = Channel<AuthContract.Effect>()
    val effect = _effect.receiveAsFlow()

    fun onLoginChanged(login: String) {
        _state.update { it.copy(loginInput = login, error = null) }
    }

    fun onPasswordChanged(password: String) {
        _state.update { it.copy(passwordInput = password, error = null) }
    }

    fun onLoginClicked() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true) }
            val loginRequest = LoginRequest(
                login = _state.value.loginInput,
                password = _state.value.passwordInput
            )
            postSiginInUseCase(loginRequest)
                .onSuccess { (user, token) ->
                    sessionManager.saveSession(token, user) // Save full session
                    _state.update { it.copy(isLoading = false, error = null) }
                    _effect.send(AuthContract.Effect.NavigateToMain)
                }
                .onFailure { exception ->
                    _state.update { it.copy(isLoading = false, error = exception.message ?: "An unknown error occurred") }
                }
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\MainViewModel.kt

```kt
package kz.petproject.gts_tz.ui.presentation

import androidx.lifecycle.ViewModel
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kz.petproject.gts_tz.data.local.SessionManager

class MainViewModel(sessionManager: SessionManager) : ViewModel() {
    private val _userRole = MutableStateFlow(sessionManager.getUserRole())
    val userRole = _userRole.asStateFlow()
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\moderator\ArticleReviewScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.moderator

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.rememberScrollState
import androidx.compose.foundation.verticalScroll
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.DummyData

/**
 * A screen where a moderator can read a full article and approve or reject it.
 *
 * @param article The article to be reviewed.
 * @param onApprove Lambda for the "Approve" action.
 * @param onReject Lambda for the "Reject" action, which takes the reason as a String.
 * @param onNavigateUp Lambda for back navigation.
 */
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun ArticleReviewScreen(
    article: Article,
    onApprove: () -> Unit,
    onReject: (reason: String) -> Unit,
    onNavigateUp: () -> Unit
) {
    var showRejectDialog by remember { mutableStateOf(false) }

    if (showRejectDialog) {
        RejectReasonDialog(
            onDismiss = { showRejectDialog = false },
            onConfirm = { reason ->
                showRejectDialog = false
                onReject(reason)
            }
        )
    }

    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("Проверка статьи") },
                navigationIcon = {
                    IconButton(onClick = onNavigateUp) {
                        Icon(Icons.Default.ArrowBack, "Назад")
                    }
                }
            )
        }
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .padding(paddingValues)
                .fillMaxSize()
        ) {
            // Scrollable content area
            Column(
                modifier = Modifier
                    .weight(1f)
                    .verticalScroll(rememberScrollState())
                    .padding(16.dp)
            ) {
                Text(article.title, style = MaterialTheme.typography.headlineSmall)
                Spacer(Modifier.height(8.dp))
                Text(
                    "Автор: ${article.author}",
                    style = MaterialTheme.typography.titleSmall,
                    color = MaterialTheme.colorScheme.onSurfaceVariant
                )
                Divider(Modifier.padding(vertical = 16.dp))
                Text(article.content, style = MaterialTheme.typography.bodyLarge)
            }

            // Action buttons at the bottom
            Row(
                modifier = Modifier
                    .fillMaxWidth()
                    .padding(16.dp),
                horizontalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                OutlinedButton(
                    onClick = { showRejectDialog = true },
                    modifier = Modifier.weight(1f),
                    colors = ButtonDefaults.outlinedButtonColors(contentColor = MaterialTheme.colorScheme.error)
                ) {
                    Text("Отклонить")
                }
                Button(
                    onClick = onApprove,
                    modifier = Modifier.weight(1f)
                ) {
                    Text("Одобрить")
                }
            }
        }
    }
}

// --- Helper Component: Rejection Dialog ---

/**
 * A dialog for entering the reason for rejecting an article.
 *
 * @param onDismiss Lambda called when the dialog is dismissed (e.g., by clicking outside or cancel).
 * @param onConfirm Lambda called with the reason text when the confirm button is clicked.
 */
@Composable
private fun RejectReasonDialog(
    onDismiss: () -> Unit,
    onConfirm: (reason: String) -> Unit
) {
    var reason by remember { mutableStateOf("") }
    AlertDialog(
        onDismissRequest = onDismiss,
        title = { Text("Причина отклонения") },
        text = {
            OutlinedTextField(
                value = reason,
                onValueChange = { reason = it },
                label = { Text("Укажите причину") },
                modifier = Modifier.fillMaxWidth()
            )
        },
        confirmButton = {
            Button(
                onClick = { onConfirm(reason) },
                enabled = reason.isNotBlank() // Cannot confirm with an empty reason
            ) {
                Text("Отклонить")
            }
        },
        dismissButton = {
            TextButton(onClick = onDismiss) {
                Text("Отмена")
            }
        }
    )
}


@Preview(name = "Article Review Screen", showBackground = true)
@Composable
fun ArticleReviewScreenPreview() {
    MaterialTheme {
        ArticleReviewScreen(
            article = DummyData.articles.first { it.status == "ON_MODERATION" },
            onApprove = {},
            onReject = {},
            onNavigateUp = {}
        )
    }
}

@Preview(name = "Rejection Reason Dialog", showBackground = true)
@Composable
fun RejectReasonDialogPreview() {
    MaterialTheme {
        // We place it in a Box to simulate how it looks on top of a screen
        Box(Modifier.fillMaxSize()) {
            RejectReasonDialog(onDismiss = {}, onConfirm = {})
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\moderator\ModeratorDashboardScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.moderator

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material.icons.filled.KeyboardArrowRight
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.DummyData

// --- Screen 1: Moderator's Dashboard ---

/**
 * The main screen for a moderator to see a list of articles awaiting review.
 *
 * @param articlesForModeration The list of articles with "ON_MODERATION" status.
 * @param onArticleClick Lambda triggered when a moderator clicks on an article to review it.
 * @param onNavigateUp Lambda for back navigation.
 */
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun ModeratorDashboardScreen(
    articlesForModeration: List<Article>,
    onArticleClick: (articleId: String) -> Unit,
    onNavigateUp: () -> Unit
) {
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("На модерации") },
                navigationIcon = {
                    IconButton(onClick = onNavigateUp) {
                        Icon(Icons.Default.ArrowBack, "Назад")
                    }
                }
            )
        }
    ) { paddingValues ->
        if (articlesForModeration.isEmpty()) {
            Box(
                modifier = Modifier.fillMaxSize().padding(paddingValues),
                contentAlignment = Alignment.Center
            ) {
                Text(
                    "Все статьи проверены. Отличная работа!",
                    style = MaterialTheme.typography.bodyLarge,
                    color = MaterialTheme.colorScheme.onSurfaceVariant
                )
            }
        } else {
            LazyColumn(
                modifier = Modifier.padding(paddingValues),
                contentPadding = PaddingValues(16.dp),
                verticalArrangement = Arrangement.spacedBy(12.dp)
            ) {
                items(articlesForModeration, key = { it.id }) { article ->
                    Card(
                        onClick = { onArticleClick(article.id) },
                        modifier = Modifier.fillMaxWidth()
                    ) {
                        Row(
                            modifier = Modifier.padding(16.dp),
                            verticalAlignment = Alignment.CenterVertically,
                            horizontalArrangement = Arrangement.SpaceBetween
                        ) {
                            Column(modifier = Modifier.weight(1f)) {
                                Text(article.title, style = MaterialTheme.typography.titleMedium)
                                Text("Автор: ${article.author}", style = MaterialTheme.typography.bodySmall)
                            }
                            Icon(Icons.Filled.KeyboardArrowRight, contentDescription = "Проверить статью")
                        }
                    }
                }
            }
        }
    }
}


@Preview(name = "Moderator Dashboard", showBackground = true)
@Composable
fun ModeratorDashboardScreenPreview() {
    MaterialTheme {
        ModeratorDashboardScreen(
            articlesForModeration = DummyData.articles.filter { it.status == "ON_MODERATION" },
            onArticleClick = {},
            onNavigateUp = {}
        )
    }
}

@Preview(name = "Moderator Dashboard - Empty", showBackground = true)
@Composable
fun ModeratorDashboardScreenEmptyPreview() {
    MaterialTheme {
        ModeratorDashboardScreen(
            articlesForModeration = emptyList(),
            onArticleClick = {},
            onNavigateUp = {}
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\navigation\AppNavigation.kt

```kt
package kz.petproject.gts_tz.ui.presentation.navigation

import androidx.compose.runtime.Composable
import androidx.navigation.NavType
import androidx.navigation.compose.NavHost
import androidx.navigation.compose.composable
import androidx.navigation.compose.rememberNavController
import androidx.navigation.navArgument
import kz.petproject.gts_tz.ui.presentation.author.CreatePostRoute
import kz.petproject.gts_tz.ui.presentation.main.MainScreen

@Composable
fun AppNavigation() {
    val navController = rememberNavController()
    NavHost(navController = navController, startDestination = "splash") {
        composable("splash") {
            SplashScreen(navController = navController)
        }
        composable("auth") {
            AuthRoute(
                onLoginSuccess = {
                    navController.navigate("main_screen") {
                        popUpTo("auth") { inclusive = true }
                    }
                }
            )
        }
        composable("main_screen") {
            MainScreen(navController = navController)
        }
        composable(
            route = "create_post_screen/{articleId}",
            arguments = listOf(navArgument("articleId") { type = NavType.StringType })
        ) {
            CreatePostRoute(navController = navController)
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\navigation\AuthRoute.kt

```kt
package kz.petproject.gts_tz.ui.presentation.navigation

import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.runtime.collectAsState
import androidx.compose.runtime.getValue
import kz.petproject.gts_tz.ui.presentation.AuthContract
import kz.petproject.gts_tz.ui.presentation.AuthScreen
import kz.petproject.gts_tz.ui.presentation.AuthViewModel
import org.koin.androidx.compose.koinViewModel

@Composable
fun AuthRoute(
    onLoginSuccess: () -> Unit,
    viewModel: AuthViewModel = koinViewModel(),
) {
    val state by viewModel.state.collectAsState()

    LaunchedEffect(key1 = Unit) {
        viewModel.effect.collect { effect ->
            when (effect) {
                is AuthContract.Effect.NavigateToMain -> {
                    onLoginSuccess()
                }
            }
        }
    }

    AuthScreen(
        login = state.loginInput,
        password = state.passwordInput,
        onLoginChange = viewModel::onLoginChanged,
        onPasswordChange = viewModel::onPasswordChanged,
        onLoginClick = viewModel::onLoginClicked,
        isLoading = state.isLoading,
        error = state.error
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\navigation\BottomBarScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.main

import androidx.compose.foundation.layout.padding
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.AccountBox
import androidx.compose.material.icons.filled.Create
import androidx.compose.material.icons.filled.Home
import androidx.compose.material3.Icon
import androidx.compose.material3.NavigationBar
import androidx.compose.material3.NavigationBarItem
import androidx.compose.material3.Scaffold
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.runtime.collectAsState
import androidx.compose.runtime.getValue
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.vector.ImageVector
import androidx.navigation.NavController
import androidx.navigation.NavDestination.Companion.hierarchy
import androidx.navigation.NavGraph.Companion.findStartDestination
import androidx.navigation.compose.NavHost
import androidx.navigation.compose.composable
import androidx.navigation.compose.currentBackStackEntryAsState
import androidx.navigation.compose.rememberNavController
import kz.petproject.gts_tz.ui.presentation.MainViewModel
import kz.petproject.gts_tz.ui.presentation.admin.AdminDashboardRoute
import kz.petproject.gts_tz.ui.presentation.author.AuthorDashboardRoute
import kz.petproject.gts_tz.ui.presentation.news_feed.NewsFeedRoute
import org.koin.androidx.compose.koinViewModel

sealed class BottomBarScreen(
    val route: String,
    val title: String,
    val icon: ImageVector
) {
    object NewsFeed : BottomBarScreen("news_feed", "Новости", Icons.Default.Home)
    object AdminPanel : BottomBarScreen("admin_panel", "Админ", Icons.Default.AccountBox)
    object AuthorDashboard : BottomBarScreen("author_dashboard", "Мои статьи", Icons.Default.Create)
}

@Composable
fun MainScreen(
    navController: NavController,
    viewModel: MainViewModel = koinViewModel()
) {
    val userRole by viewModel.userRole.collectAsState()
    val bottomBarNavController = rememberNavController()

    val bottomBarScreens = when (userRole) {
        "ADMIN" -> listOf(BottomBarScreen.NewsFeed, BottomBarScreen.AdminPanel)
        "AUTHOR" -> listOf(BottomBarScreen.NewsFeed, BottomBarScreen.AuthorDashboard)
        "MODERATOR" -> listOf(BottomBarScreen.NewsFeed) // TODO: Add Moderator screen
        else -> listOf(BottomBarScreen.NewsFeed)
    }

    Scaffold(
        bottomBar = {
            val navBackStackEntry by bottomBarNavController.currentBackStackEntryAsState()
            val currentDestination = navBackStackEntry?.destination

            NavigationBar {
                bottomBarScreens.forEach { screen ->
                    NavigationBarItem(
                        label = { Text(text = screen.title) },
                        icon = { Icon(imageVector = screen.icon, contentDescription = screen.title) },
                        selected = currentDestination?.hierarchy?.any { it.route == screen.route } == true,
                        onClick = {
                            bottomBarNavController.navigate(screen.route) {
                                popUpTo(bottomBarNavController.graph.findStartDestination().id) { saveState = true }
                                launchSingleTop = true
                                restoreState = true
                            }
                        }
                    )
                }
            }
        }
    ) { innerPadding ->
        NavHost(
            navController = bottomBarNavController,
            startDestination = BottomBarScreen.NewsFeed.route,
            modifier = Modifier.padding(innerPadding)
        ) {
            composable(route = BottomBarScreen.NewsFeed.route) {
                NewsFeedRoute(
                    onNavigateToAuth = {
                        navController.navigate("auth") {
                            popUpTo("main_screen") { inclusive = true }
                        }
                    }
                )
            }
            composable(route = BottomBarScreen.AdminPanel.route) { AdminDashboardRoute() }
            composable(route = BottomBarScreen.AuthorDashboard.route) {
                // Pass the top-level nav controller for navigating outside the bottom bar
                AuthorDashboardRoute(navController = navController)
            }
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\navigation\SplashScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation.navigation

import androidx.compose.foundation.layout.Box
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.CircularProgressIndicator
import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.navigation.NavController
import kotlinx.coroutines.delay
import kz.petproject.gts_tz.data.local.SessionManager
import org.koin.compose.koinInject

@Composable
fun SplashScreen(navController: NavController, sessionManager: SessionManager = koinInject()) {
    LaunchedEffect(key1 = true) {
        delay(1000) // Simulate a loading delay
        val token = sessionManager.getToken()

        // The fix is here: navigate to "main_screen" if logged in, not "news_feed"
        val destination = if (token.isNullOrBlank()) "auth" else "main_screen"

        navController.navigate(destination) {
            popUpTo("splash") { inclusive = true }
        }
    }

    Box(
        modifier = Modifier.fillMaxSize(),
        contentAlignment = Alignment.Center
    ) {
        CircularProgressIndicator()
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\NewsFeedContract.kt

```kt
package kz.petproject.gts_tz.ui.presentation

import kz.petproject.gts_tz.data.Article

object NewsFeedContract {
    data class State(
        val articles: List<Article> = emptyList(),
        val isLoading: Boolean = true,
        val currentUserRole: String? = null // TODO: This should come from a user session
    )

    sealed class Effect {
        data object NavigateToAuth : Effect()
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\NewsFeedRoute.kt

```kt
package kz.petproject.gts_tz.ui.presentation.news_feed

import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.runtime.collectAsState
import androidx.compose.runtime.getValue
import androidx.navigation.NavController
import kz.petproject.gts_tz.ui.presentation.NewsFeedContract
import kz.petproject.gts_tz.ui.presentation.NewsFeedScreen
import kz.petproject.gts_tz.ui.presentation.NewsFeedViewModel
import org.koin.androidx.compose.koinViewModel

@Composable
fun NewsFeedRoute(
    // It no longer needs the NavController directly
    onNavigateToAuth: () -> Unit,
    viewModel: NewsFeedViewModel = koinViewModel(),
) {
    val state by viewModel.state.collectAsState()

    LaunchedEffect(key1 = Unit) {
        viewModel.effect.collect { effect ->
            when (effect) {
                is NewsFeedContract.Effect.NavigateToAuth -> {
                    // Call the hoisted lambda instead of navigating directly
                    onNavigateToAuth()
                }
            }
        }
    }

    NewsFeedScreen(
        articles = state.articles,
        onArticleClick = { /* TODO: Implement navigation to article details */ },
        currentUserRole = state.currentUserRole,
        onFabClick = { /* TODO: Implement navigation to create post */ },
        onSignOutClick = viewModel::onSignOutClicked
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\NewsFeedScreen.kt

```kt
package kz.petproject.gts_tz.ui.presentation

import androidx.compose.foundation.layout.Arrangement
import androidx.compose.foundation.layout.Box
import androidx.compose.foundation.layout.PaddingValues
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.padding
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.automirrored.filled.ExitToApp
import androidx.compose.material.icons.filled.Add
import androidx.compose.material.icons.filled.ExitToApp
import androidx.compose.material3.ExperimentalMaterial3Api
import androidx.compose.material3.FloatingActionButton
import androidx.compose.material3.Icon
import androidx.compose.material3.IconButton
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Scaffold
import androidx.compose.material3.Text
import androidx.compose.material3.TopAppBar
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import kz.petproject.gts_tz.data.Article
import kz.petproject.gts_tz.data.DummyData
import kz.petproject.gts_tz.ui.model.ArticleCard

/**
 * The main news feed screen, accessible to all users.
 * @param articles The list of published articles to display.
 * @param onArticleClick Lambda triggered when a user clicks on an article card.
 * @param currentUserRole The role of the currently logged-in user (e.g., "AUTHOR"). Null if anonymous.
 * @param onFabClick Lambda for the FAB's click action.
 * @param onSignOutClick Lambda for the sign-out button click action.
 */
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun NewsFeedScreen(
    articles: List<Article>,
    onArticleClick: (articleId: String) -> Unit,
    currentUserRole: String? = null,
    onFabClick: () -> Unit = {},
    onSignOutClick: () -> Unit
) {
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("Новости") },
                actions = {
                    IconButton(onClick = onSignOutClick) {
                        Icon(
                            imageVector = Icons.AutoMirrored.Filled.ExitToApp,
                            contentDescription = "Выйти"
                        )
                    }
                }
            )
        },
        floatingActionButton = {
            if (currentUserRole == "AUTHOR") {
                FloatingActionButton(
                    onClick = onFabClick,
                ) {
                    Icon(
                        imageVector = Icons.Default.Add,
                        contentDescription = "Создать новую статью"
                    )
                }
            }
        }
    ) { paddingValues ->
        if (articles.isEmpty()) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentAlignment = Alignment.Center
            ) {
                Text(
                    text = "Пока нет опубликованных новостей.",
                    style = MaterialTheme.typography.bodyLarge,
                    color = MaterialTheme.colorScheme.onSurfaceVariant
                )
            }
        } else {
            LazyColumn(
                modifier = Modifier.padding(paddingValues),
                contentPadding = PaddingValues(all = 16.dp),
                verticalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                items(articles, key = { it.id }) { article ->
                    ArticleCard(
                        article = article,
                        onClick = { onArticleClick(article.id) }
                    )
                }
            }
        }
    }
}

// --- UPDATED PREVIEWS ---

@Preview(name = "News Feed (Public User)", showBackground = true)
@Composable
fun NewsFeedScreenPreview_Public() {
    MaterialTheme {
        val publishedArticles = DummyData.articles.filter { it.status == "PUBLISHED" }
        NewsFeedScreen(
            articles = publishedArticles,
            onArticleClick = {},
            currentUserRole = null,
            onSignOutClick = {}
        )
    }
}

@Preview(name = "News Feed (As Author)", showBackground = true)
@Composable
fun NewsFeedScreenPreview_AsAuthor() {
    MaterialTheme {
        val publishedArticles = DummyData.articles.filter { it.status == "PUBLISHED" }
        NewsFeedScreen(
            articles = publishedArticles,
            onArticleClick = {},
            currentUserRole = "AUTHOR",
            onFabClick = {},
            onSignOutClick = {}
        )
    }
}

@Preview(name = "News Feed Empty State", showBackground = true)
@Composable
fun NewsFeedScreenPreview_Empty() {
    MaterialTheme {
        NewsFeedScreen(
            articles = emptyList(),
            onArticleClick = {},
            onSignOutClick = {}
        )
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\presentation\NewsFeedViewModel.kt

```kt
package kz.petproject.gts_tz.ui.presentation

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.receiveAsFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch
import kz.petproject.gts_tz.data.DummyData
import kz.petproject.gts_tz.data.local.SessionManager

class NewsFeedViewModel(
    private val sessionManager: SessionManager
) : ViewModel() {

    private val _state = MutableStateFlow(NewsFeedContract.State())
    val state = _state.asStateFlow()

    private val _effect = Channel<NewsFeedContract.Effect>()
    val effect = _effect.receiveAsFlow()

    init {
        loadContent()
    }

    private fun loadContent() {
        viewModelScope.launch {
            // In a real app, this would be a repository call to fetch articles.
            val publishedArticles = DummyData.articles.filter { it.status == "PUBLISHED" }
            _state.update { it.copy(articles = publishedArticles, isLoading = false) }
        }
    }

    fun onSignOutClicked() {
        viewModelScope.launch {
            sessionManager.clearSession()
            _effect.send(NewsFeedContract.Effect.NavigateToAuth)
        }
    }
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\theme\Color.kt

```kt
package kz.petproject.gts_tz.ui.theme

import androidx.compose.ui.graphics.Color

val Purple80 = Color(0xFFD0BCFF)
val PurpleGrey80 = Color(0xFFCCC2DC)
val Pink80 = Color(0xFFEFB8C8)

val Purple40 = Color(0xFF6650a4)
val PurpleGrey40 = Color(0xFF625b71)
val Pink40 = Color(0xFF7D5260)
```

# app\src\main\java\kz\petproject\gts_tz\ui\theme\Theme.kt

```kt
package kz.petproject.gts_tz.ui.theme

import android.app.Activity
import android.os.Build
import androidx.compose.foundation.isSystemInDarkTheme
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.darkColorScheme
import androidx.compose.material3.dynamicDarkColorScheme
import androidx.compose.material3.dynamicLightColorScheme
import androidx.compose.material3.lightColorScheme
import androidx.compose.runtime.Composable
import androidx.compose.ui.platform.LocalContext

private val DarkColorScheme = darkColorScheme(
    primary = Purple80,
    secondary = PurpleGrey80,
    tertiary = Pink80
)

private val LightColorScheme = lightColorScheme(
    primary = Purple40,
    secondary = PurpleGrey40,
    tertiary = Pink40

    /* Other default colors to override
    background = Color(0xFFFFFBFE),
    surface = Color(0xFFFFFBFE),
    onPrimary = Color.White,
    onSecondary = Color.White,
    onTertiary = Color.White,
    onBackground = Color(0xFF1C1B1F),
    onSurface = Color(0xFF1C1B1F),
    */
)

@Composable
fun GTS_TZTheme(
    darkTheme: Boolean = isSystemInDarkTheme(),
    // Dynamic color is available on Android 12+
    dynamicColor: Boolean = true,
    content: @Composable () -> Unit
) {
    val colorScheme = when {
        dynamicColor && Build.VERSION.SDK_INT >= Build.VERSION_CODES.S -> {
            val context = LocalContext.current
            if (darkTheme) dynamicDarkColorScheme(context) else dynamicLightColorScheme(context)
        }

        darkTheme -> DarkColorScheme
        else -> LightColorScheme
    }

    MaterialTheme(
        colorScheme = colorScheme,
        typography = Typography,
        content = content
    )
}
```

# app\src\main\java\kz\petproject\gts_tz\ui\theme\Type.kt

```kt
package kz.petproject.gts_tz.ui.theme

import androidx.compose.material3.Typography
import androidx.compose.ui.text.TextStyle
import androidx.compose.ui.text.font.FontFamily
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.sp

// Set of Material typography styles to start with
val Typography = Typography(
    bodyLarge = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 16.sp,
        lineHeight = 24.sp,
        letterSpacing = 0.5.sp
    )
    /* Other default text styles to override
    titleLarge = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 22.sp,
        lineHeight = 28.sp,
        letterSpacing = 0.sp
    ),
    labelSmall = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Medium,
        fontSize = 11.sp,
        lineHeight = 16.sp,
        letterSpacing = 0.5.sp
    )
    */
)
```

# app\src\main\res\drawable\ic_launcher_background.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path
        android:fillColor="#3DDC84"
        android:pathData="M0,0h108v108h-108z" />
    <path
        android:fillColor="#00000000"
        android:pathData="M9,0L9,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,0L19,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,0L29,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,0L39,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,0L49,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,0L59,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,0L69,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,0L79,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M89,0L89,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M99,0L99,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,9L108,9"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,19L108,19"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,29L108,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,39L108,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,49L108,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,59L108,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,69L108,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,79L108,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,89L108,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,99L108,99"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,29L89,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,39L89,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,49L89,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,59L89,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,69L89,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,79L89,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,19L29,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,19L39,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,19L49,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,19L59,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,19L69,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,19L79,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
</vector>

```

# app\src\main\res\drawable\ic_launcher_foreground.xml

```xml
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>
```

# app\src\main\res\mipmap-anydpi-v26\ic_launcher_round.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>
```

# app\src\main\res\mipmap-anydpi-v26\ic_launcher.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>
```

# app\src\main\res\mipmap-hdpi\ic_launcher_round.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-hdpi\ic_launcher.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-mdpi\ic_launcher_round.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-mdpi\ic_launcher.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-xhdpi\ic_launcher_round.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-xhdpi\ic_launcher.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-xxhdpi\ic_launcher_round.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-xxhdpi\ic_launcher.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-xxxhdpi\ic_launcher_round.webp

This is a binary file of the type: Image

# app\src\main\res\mipmap-xxxhdpi\ic_launcher.webp

This is a binary file of the type: Image

# app\src\main\res\values\colors.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="purple_200">#FFBB86FC</color>
    <color name="purple_500">#FF6200EE</color>
    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>
    <color name="teal_700">#FF018786</color>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>
</resources>
```

# app\src\main\res\values\strings.xml

```xml
<resources>
    <string name="app_name">GTS_TZ</string>
</resources>
```

# app\src\main\res\values\themes.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <style name="Theme.GTS_TZ" parent="android:Theme.Material.Light.NoActionBar" />
</resources>
```

# app\src\main\res\xml\backup_rules.xml

```xml
<?xml version="1.0" encoding="utf-8"?><!--
   Sample backup rules file; uncomment and customize as necessary.
   See https://developer.android.com/guide/topics/data/autobackup
   for details.
   Note: This file is ignored for devices older that API 31
   See https://developer.android.com/about/versions/12/backup-restore
-->
<full-backup-content>
    <!--
   <include domain="sharedpref" path="."/>
   <exclude domain="sharedpref" path="device.xml"/>
-->
</full-backup-content>
```

# app\src\main\res\xml\data_extraction_rules.xml

```xml
<?xml version="1.0" encoding="utf-8"?><!--
   Sample data extraction rules file; uncomment and customize as necessary.
   See https://developer.android.com/about/versions/12/backup-restore#xml-changes
   for details.
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- TODO: Use <include> and <exclude> to control what is backed up.
        <include .../>
        <exclude .../>
        -->
    </cloud-backup>
    <!--
    <device-transfer>
        <include .../>
        <exclude .../>
    </device-transfer>
    -->
</data-extraction-rules>
```

# app\src\test\java\kz\petproject\gts_tz\ExampleUnitTest.kt

```kt
package kz.petproject.gts_tz

import org.junit.Test

import org.junit.Assert.*

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    @Test
    fun addition_isCorrect() {
        assertEquals(4, 2 + 2)
    }
}
```

# build.gradle.kts

```kts
// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    alias(libs.plugins.android.application) apply false
    alias(libs.plugins.kotlin.android) apply false
    alias(libs.plugins.kotlin.compose) apply false
}
```

# gradle.properties

```properties
# Project-wide Gradle settings.
# IDE (e.g. Android Studio) users:
# Gradle settings configured through the IDE *will override*
# any settings specified in this file.
# For more details on how to configure your build environment visit
# http://www.gradle.org/docs/current/userguide/build_environment.html
# Specifies the JVM arguments used for the daemon process.
# The setting is particularly useful for tweaking memory settings.
org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8
# When configured, Gradle will run in incubating parallel mode.
# This option should only be used with decoupled projects. For more details, visit
# https://developer.android.com/r/tools/gradle-multi-project-decoupled-projects
# org.gradle.parallel=true
# AndroidX package structure to make it clearer which packages are bundled with the
# Android operating system, and which are packaged with your app's APK
# https://developer.android.com/topic/libraries/support-library/androidx-rn
android.useAndroidX=true
# Kotlin code style for this project: "official" or "obsolete":
kotlin.code.style=official
# Enables namespacing of each library's R class so that its R class includes only the
# resources declared in the library itself and none from the library's dependencies,
# thereby reducing the size of the R class for that library
android.nonTransitiveRClass=true
```

# gradle\libs.versions.toml

```toml
[versions]
agp = "8.7.3"
kotlin = "2.0.0"
coreKtx = "1.16.0"
junit = "4.13.2"
junitVersion = "1.2.1"
espressoCore = "3.6.1"
lifecycleRuntimeKtx = "2.9.0"
activityCompose = "1.10.1"
composeBom = "2024.04.01"
koinCore = "3.2.0"
koinAndroid = "3.5.0"
koinAndroidxCompose = "3.5.0"
serialization = "1.6.3"
navigationCompose = "2.7.7"
securityCrypto = "1.1.0-alpha06"


[libraries]
androidx-core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "coreKtx" }
junit = { group = "junit", name = "junit", version.ref = "junit" }
androidx-junit = { group = "androidx.test.ext", name = "junit", version.ref = "junitVersion" }
androidx-espresso-core = { group = "androidx.test.espresso", name = "espresso-core", version.ref = "espressoCore" }
androidx-lifecycle-runtime-ktx = { group = "androidx.lifecycle", name = "lifecycle-runtime-ktx", version.ref = "lifecycleRuntimeKtx" }
androidx-activity-compose = { group = "androidx.activity", name = "activity-compose", version.ref = "activityCompose" }
androidx-compose-bom = { group = "androidx.compose", name = "compose-bom", version.ref = "composeBom" }
androidx-ui = { group = "androidx.compose.ui", name = "ui" }
androidx-ui-graphics = { group = "androidx.compose.ui", name = "ui-graphics" }
androidx-ui-tooling = { group = "androidx.compose.ui", name = "ui-tooling" }
androidx-ui-tooling-preview = { group = "androidx.compose.ui", name = "ui-tooling-preview" }
androidx-ui-test-manifest = { group = "androidx.compose.ui", name = "ui-test-manifest" }
androidx-ui-test-junit4 = { group = "androidx.compose.ui", name = "ui-test-junit4" }
androidx-material3 = { group = "androidx.compose.material3", name = "material3" }

koin-android = { module = "io.insert-koin:koin-android", version.ref = "koinAndroid" }
koin-androidx-compose = { module = "io.insert-koin:koin-androidx-compose", version.ref = "koinAndroidxCompose" }
koin-core = { module = "io.insert-koin:koin-core", version.ref = "koinCore" }
kotlinx-serialization-json = { module = "org.jetbrains.kotlinx:kotlinx-serialization-json", version.ref = "serialization"}

androidx-navigation-compose = { group = "androidx.navigation", name = "navigation-compose", version.ref = "navigationCompose" }
androidx-security-crypto = { group = "androidx.security", name = "security-crypto", version.ref = "securityCrypto" }


[plugins]
android-application = { id = "com.android.application", version.ref = "agp" }
kotlin-android = { id = "org.jetbrains.kotlin.android", version.ref = "kotlin" }
kotlin-compose = { id = "org.jetbrains.kotlin.plugin.compose", version.ref = "kotlin" }


```

# gradle\wrapper\gradle-wrapper.jar

This is a binary file of the type: Binary

# gradle\wrapper\gradle-wrapper.properties

```properties
#Wed Jul 02 16:10:24 QYZT 2025
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-8.9-bin.zip
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists

```

# gradlew

```
#!/usr/bin/env sh

#
# Copyright 2015 the original author or authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

##############################################################################
##
##  Gradle start up script for UN*X
##
##############################################################################

# Attempt to set APP_HOME
# Resolve links: $0 may be a link
PRG="$0"
# Need this for relative symlinks.
while [ -h "$PRG" ] ; do
    ls=`ls -ld "$PRG"`
    link=`expr "$ls" : '.*-> \(.*\)$'`
    if expr "$link" : '/.*' > /dev/null; then
        PRG="$link"
    else
        PRG=`dirname "$PRG"`"/$link"
    fi
done
SAVED="`pwd`"
cd "`dirname \"$PRG\"`/" >/dev/null
APP_HOME="`pwd -P`"
cd "$SAVED" >/dev/null

APP_NAME="Gradle"
APP_BASE_NAME=`basename "$0"`

# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
DEFAULT_JVM_OPTS='"-Xmx64m" "-Xms64m"'

# Use the maximum available, or set MAX_FD != -1 to use that value.
MAX_FD="maximum"

warn () {
    echo "$*"
}

die () {
    echo
    echo "$*"
    echo
    exit 1
}

# OS specific support (must be 'true' or 'false').
cygwin=false
msys=false
darwin=false
nonstop=false
case "`uname`" in
  CYGWIN* )
    cygwin=true
    ;;
  Darwin* )
    darwin=true
    ;;
  MINGW* )
    msys=true
    ;;
  NONSTOP* )
    nonstop=true
    ;;
esac

CLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar


# Determine the Java command to use to start the JVM.
if [ -n "$JAVA_HOME" ] ; then
    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
        # IBM's JDK on AIX uses strange locations for the executables
        JAVACMD="$JAVA_HOME/jre/sh/java"
    else
        JAVACMD="$JAVA_HOME/bin/java"
    fi
    if [ ! -x "$JAVACMD" ] ; then
        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
    fi
else
    JAVACMD="java"
    which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
fi

# Increase the maximum file descriptors if we can.
if [ "$cygwin" = "false" -a "$darwin" = "false" -a "$nonstop" = "false" ] ; then
    MAX_FD_LIMIT=`ulimit -H -n`
    if [ $? -eq 0 ] ; then
        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then
            MAX_FD="$MAX_FD_LIMIT"
        fi
        ulimit -n $MAX_FD
        if [ $? -ne 0 ] ; then
            warn "Could not set maximum file descriptor limit: $MAX_FD"
        fi
    else
        warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"
    fi
fi

# For Darwin, add options to specify how the application appears in the dock
if $darwin; then
    GRADLE_OPTS="$GRADLE_OPTS \"-Xdock:name=$APP_NAME\" \"-Xdock:icon=$APP_HOME/media/gradle.icns\""
fi

# For Cygwin or MSYS, switch paths to Windows format before running java
if [ "$cygwin" = "true" -o "$msys" = "true" ] ; then
    APP_HOME=`cygpath --path --mixed "$APP_HOME"`
    CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`

    JAVACMD=`cygpath --unix "$JAVACMD"`

    # We build the pattern for arguments to be converted via cygpath
    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`
    SEP=""
    for dir in $ROOTDIRSRAW ; do
        ROOTDIRS="$ROOTDIRS$SEP$dir"
        SEP="|"
    done
    OURCYGPATTERN="(^($ROOTDIRS))"
    # Add a user-defined pattern to the cygpath arguments
    if [ "$GRADLE_CYGPATTERN" != "" ] ; then
        OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"
    fi
    # Now convert the arguments - kludge to limit ourselves to /bin/sh
    i=0
    for arg in "$@" ; do
        CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`
        CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option

        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition
            eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`
        else
            eval `echo args$i`="\"$arg\""
        fi
        i=`expr $i + 1`
    done
    case $i in
        0) set -- ;;
        1) set -- "$args0" ;;
        2) set -- "$args0" "$args1" ;;
        3) set -- "$args0" "$args1" "$args2" ;;
        4) set -- "$args0" "$args1" "$args2" "$args3" ;;
        5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;
        6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;
        7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;
        8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;
        9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;
    esac
fi

# Escape application args
save () {
    for i do printf %s\\n "$i" | sed "s/'/'\\\\''/g;1s/^/'/;\$s/\$/' \\\\/" ; done
    echo " "
}
APP_ARGS=`save "$@"`

# Collect all arguments for the java command, following the shell quoting and substitution rules
eval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS "\"-Dorg.gradle.appname=$APP_BASE_NAME\"" -classpath "\"$CLASSPATH\"" org.gradle.wrapper.GradleWrapperMain "$APP_ARGS"

exec "$JAVACMD" "$@"

```

# gradlew.bat

```bat
@rem
@rem Copyright 2015 the original author or authors.
@rem
@rem Licensed under the Apache License, Version 2.0 (the "License");
@rem you may not use this file except in compliance with the License.
@rem You may obtain a copy of the License at
@rem
@rem      https://www.apache.org/licenses/LICENSE-2.0
@rem
@rem Unless required by applicable law or agreed to in writing, software
@rem distributed under the License is distributed on an "AS IS" BASIS,
@rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
@rem See the License for the specific language governing permissions and
@rem limitations under the License.
@rem

@if "%DEBUG%" == "" @echo off
@rem ##########################################################################
@rem
@rem  Gradle startup script for Windows
@rem
@rem ##########################################################################

@rem Set local scope for the variables with windows NT shell
if "%OS%"=="Windows_NT" setlocal

set DIRNAME=%~dp0
if "%DIRNAME%" == "" set DIRNAME=.
set APP_BASE_NAME=%~n0
set APP_HOME=%DIRNAME%

@rem Resolve any "." and ".." in APP_HOME to make it shorter.
for %%i in ("%APP_HOME%") do set APP_HOME=%%~fi

@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
set DEFAULT_JVM_OPTS="-Xmx64m" "-Xms64m"

@rem Find java.exe
if defined JAVA_HOME goto findJavaFromJavaHome

set JAVA_EXE=java.exe
%JAVA_EXE% -version >NUL 2>&1
if "%ERRORLEVEL%" == "0" goto execute

echo.
echo ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.
echo.
echo Please set the JAVA_HOME variable in your environment to match the
echo location of your Java installation.

goto fail

:findJavaFromJavaHome
set JAVA_HOME=%JAVA_HOME:"=%
set JAVA_EXE=%JAVA_HOME%/bin/java.exe

if exist "%JAVA_EXE%" goto execute

echo.
echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%
echo.
echo Please set the JAVA_HOME variable in your environment to match the
echo location of your Java installation.

goto fail

:execute
@rem Setup the command line

set CLASSPATH=%APP_HOME%\gradle\wrapper\gradle-wrapper.jar


@rem Execute Gradle
"%JAVA_EXE%" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% "-Dorg.gradle.appname=%APP_BASE_NAME%" -classpath "%CLASSPATH%" org.gradle.wrapper.GradleWrapperMain %*

:end
@rem End local scope for the variables with windows NT shell
if "%ERRORLEVEL%"=="0" goto mainEnd

:fail
rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of
rem the _cmd.exe /c_ return code!
if  not "" == "%GRADLE_EXIT_CONSOLE%" exit 1
exit /b 1

:mainEnd
if "%OS%"=="Windows_NT" endlocal

:omega

```

# local.properties

```properties
## This file must *NOT* be checked into Version Control Systems,
# as it contains information specific to your local configuration.
#
# Location of the SDK. This is only used by Gradle.
# For customization when using a Version Control System, please read the
# header note.
#Wed Jul 02 16:15:17 QYZT 2025
sdk.dir=C\:\\Users\\ASUS\\AppData\\Local\\Android\\Sdk

```

# settings.gradle.kts

```kts
pluginManagement {
    repositories {
        google {
            content {
                includeGroupByRegex("com\\.android.*")
                includeGroupByRegex("com\\.google.*")
                includeGroupByRegex("androidx.*")
            }
        }
        mavenCentral()
        gradlePluginPortal()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.name = "GTS_TZ"
include(":app")
 
```

